{"version":3,"sources":["webpack:///./utils/transformDate.js","webpack:///./components/common/LinkToLogin/LinkToLogin.js","webpack:///./components/common/Dialog.js","webpack:///./components/common/CircleLoading.js","webpack:///./actions.js","webpack:///./actions/fetchError.js","webpack:///../redBoxBlackStyle.js","webpack:///./components/Article/Content/Content.js","webpack:///./components/Article/Reply/Reply.js","webpack:///./components/common/Profile/Profile.js","webpack:///./index.js","webpack:///./actions/hashUrl.js","webpack:///./utils/getSize.js","webpack:///./utils/routePrefix.js","webpack:///./configureStore.js","webpack:///./reducers/index.js","webpack:///./reducers/homePage.js","webpack:///./reducers/article.js","webpack:///./reducers/login.js","webpack:///./reducers/profile.js","webpack:///./reducers/message.js","webpack:///./reducers/publishTopic.js","webpack:///./reducers/hashUrl.js","webpack:///./reducers/fetchError.js","webpack:///./utils/urlPrefix.js","webpack:///./utils/getOS.js","webpack:///./Routes.js","webpack:///./containers/App.js","webpack:///./components/common/Header/styles.scss","webpack:///./components/Article/Content/styles.scss","webpack:///./components/common/LinkToLogin/styles.scss","webpack:///./components/Article/Reply/styles.scss","webpack:///./containers/HomePage.js","webpack:///./components/HomePage/Header/Header.js","webpack:///./components/HomePage/Header/styles.scss","webpack:///./components/HomePage/FloatingActionButton.js","webpack:///./components/HomePage/Drawer/Drawer.js","webpack:///./components/HomePage/Drawer/styles.scss","webpack:///./components/HomePage/Lists/Lists.js","webpack:///./components/HomePage/Lists/styles.scss","webpack:///./components/common/Snackbar.js","webpack:///./components/common/react-pullrefresh.js","webpack:///./containers/Article.js","webpack:///./containers/Message.js","webpack:///./components/Message/Content/Content.js","webpack:///./components/Message/Content/styles.scss","webpack:///./containers/Login.js","webpack:///./components/common/Profile/styles.scss","webpack:///./containers/Profile.js","webpack:///./containers/PublishTopic.js","webpack:///./components/PublishTopic/Form/Form.js","webpack:///./utils/getStrLength.js","webpack:///./components/PublishTopic/Form/styles.scss","webpack:///./styles/index.css","webpack:///./components/common/Header/Header.js"],"names":["date","createAt","Date","time","getTime","parseInt","LinkToLogin","dispatch","props","masterInfo","window","localStorage","getItem","styles","linkToLogin","link","setTransition","transition","setCurrentRouter","paddingTop","DialogExample","handleClose","close","handleJump","alert","action","actions","singleButton","title","isOpen","children","getSize","windowH","windowW","style","position","textAlign","CircleLoading","REQUEST_TOPICS","RECEIVE_TOPICS","SELECT_TAB","RECORD_SCROLLT","REQUEST_ARTICLE","RECEIVE_ARTICLE","CHANGE_CURRENT_TOPICID","CURRENT_ROUTER","LOGIN_SUCCESS","LOGIN_FAILED","LOGOUT","REQUEST_PROFILE","RECEIVE_PROFILE","SWITCH_SUPPORT","FETCH_COMMENT","SWITCH_COLLECTED","RECORD_ARTICLE_SCROLLT","PUBLISH_TOPIC","FETCH_MESSAGE","MARK_ALL_MESSAGES","GET_COLLECTED_TOPICS","selectTab","type","tab","requestTopics","receiveTopics","topics","page","limit","fetchTopics","fetch","then","response","json","data","recordScrollT","scrollT","requestArticle","topicId","receiveArticle","article","changeCurrentTopicId","recordArticleScrollT","fetchArticle","request","switchSupport","accessToken","replyId","index","method","headers","body","success","fetchComment","content","postConent","reply_id","switchCollected","isCollected","articleId","router","fetchAccess","loginSucceed","loginname","id","loginFailed","error_msg","loginName","loginId","failedMessage","logout","requestProfile","receiveProfile","profile","getCollectedTopics","userName","fetchProfile","fetchPublishTopic","topic_id","fetchMessage","hasReadMessage","has_read_messages","hasNotReadMessage","hasnot_read_messages","markAllMessages","isMarked","FETCH_ERROR","CLEAR_ERROR","FETCH_START","FETCH_END","fetchStart","fetchEnd","fetchError","e","clearError","module","exports","redbox","boxSizing","fontFamily","padding","top","left","bottom","right","width","background","color","zIndex","fontSize","lineHeight","connect","state","update","newProps","collectedTopics","login","succeed","length","some","topic","setState","margin","head","imgbox","author","avatar_url","info","float","transformDate","create_at","marginRight","__html","height","visit_count","reply_count","main","Content","supportState","replies","isSupported","map","reply","ups","up","supportNum","closeDialog","openDialog","name","switchSupportInfo","isCommented","currentTopicId","item","heightArr","nameArr","cursor","stopPropagation","pHeight","sHeight","overflow","minHeight","tail","textarea","form","defaultValue","target","value","preventDefault","refs","input","trim","contentH","Reply","NeedComment","Profile","recent_replies","recent_topics","score","header","boxs","box","TopicList","ListExampleChat","injectTapEventPlugin","render","Component","ReactDOM","document","getElementById","hot","accept","Routes","SET_TRANSITION","SET_HASH_URL","setHashUrl","hashUrl","transiton","contentW","innerHeight","innerWidth","documentElement","scrollTop","scrollHeight","scrollWidth","prefix","history","createHistory","middleware","routerMiddleware","logger","createLogger","collapsed","middlewares","push","store","createStore","composeWithDevTools","applyMiddleware","rootReducer","combineReducers","homePage","publishTopic","message","selectedTab","tabDataItem","isFetching","concat","tabData","initState","sessionStorage","JSON","parse","sTab","tData","stateItem","oldUrl","currentUrl","error","fetched","os","hashChange","ev","oldURL","setTimeout","split","newURL","location","href","saveState","setItem","stringify","myDispatch","menu","addEventListener","nextProps","pathname","removeEventListener","LoadingAction","App","propTypes","mapStateToProps","onRefresh","next","isFreshing","fresh","openSnackbar","handleClick","ua","navigator","userAgent","indexOf","loadMore","ipage","toggleDrawer","openDrawer","tabs","filter","fadeIn","fixedTop","scrollTo","currentRouter","unreadMessageCount","overflowX","opacity","lastScrollY","onscroll","diff","HomePage","handleChange","slideIndex","onClick","forEach","marginTop","i","Header","React","FloatActionButton","excuteLogout","removeItem","masterProfile","myDrawer","Lists","tabChn","all","good","share","ask","job","disableAllAnimations","enterAnimation","from","transform","to","lists","text","spinner","bounce1","bounce2","bounce3","SnackbarExample","isOpened","MAX_DEFAULT","pulled","pullhelper","require","disabled","max","maxPull","that","on","pulling","nextPulled","Math","min","loading","load","pause","resume","unload","size","display","userSelect","Object","assign","borderRadius","boxShadow","defaultProps","Pull","keys","Article","Message","markMessages","isUpdating","msg","oneline","onToggle","toggleOn","maxWidth","Login","titleErr","contentErr","boolean","ifTitleErr","bind","ifContentErr","showDialog","PublishTopic","event","getStrLength","errorInfo","select","Form","realLength","len","str","charCode","charCodeAt","console","log","goBack","withRouter"],"mappings":"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","file":"app.js","sourcesContent":["export default function (date) {\n    var createAt = new Date(date);\n    var time = new Date().getTime() - createAt.getTime(); //现在的时间-传入的时间 = 相差的时间（单位 = 毫秒）\n    if (time < 0) {\n        return '';\n    } else if (time / 1000 < 60) {\n        return '刚刚';\n    } else if ((time / 60000) < 60) {\n        return parseInt((time / 60000)) + '分钟前';\n    } else if ((time / 3600000) < 24) {\n        return parseInt(time / 3600000) + '小时前';\n    } else if ((time / 86400000) < 31) {\n        return parseInt(time / 86400000) + '天前';\n    } else if ((time / 2592000000) < 12) {\n        return parseInt(time / 2592000000) + '月前';\n    } else {\n        return parseInt(time / 31536000000) + '年前';\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./utils/transformDate.js","import React, { PropTypes } from 'react'\nimport { Link } from 'react-router-dom'\nimport { setTransition } from '../../../actions/hashUrl'\nimport prefix from '../../../utils/routePrefix'\nimport classnames from 'classnames'\nimport { setCurrentRouter } from '../../../actions'\nimport styles from './styles.scss'\nimport FlatButton from 'material-ui/FlatButton';\nimport RefreshIndicator from 'material-ui/RefreshIndicator';\nimport CircularProgress from 'material-ui/CircularProgress';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\n\n\nconst LinkToLogin = props => {\n\tlet { dispatch } = props\n\tconst masterInfo = window.localStorage.getItem('masterInfo') ? true : false\n\treturn (\n\t\t<div className={styles.linkToLogin} >\n\t\t\t{!masterInfo &&\n\t\t\t\t<Link to={`${prefix}/login`} className={styles.link} onClick={() => {\n\t\t\t\t\tdispatch(setTransition({ transition: 'move' }))\n\t\t\t\t\tdispatch(setCurrentRouter('login'))\n\t\t\t\t}}>\n\t\t\t\t\t<MuiThemeProvider>\n\t\t\t\t\t\t<FlatButton label=\"点击登陆\" primary={true} />\n\t\t\t\t\t</MuiThemeProvider>\n\t\t\t\t</Link>\n\t\t\t}\n\t\t\t{masterInfo &&\n\t\t\t\t<div style={{ paddingTop: 100 }}>\n\t\t\t\t\t<MuiThemeProvider>\n\t\t\t\t\t\t<CircularProgress size={60} thickness={7} />\n\t\t\t\t\t</MuiThemeProvider>\n\t\t\t\t</div>\n\t\t\t}\n\t\t</div>\n\t)\n}\n\nexport default LinkToLogin\n\n\n// WEBPACK FOOTER //\n// ./components/common/LinkToLogin/LinkToLogin.js","import React from 'react';\n// import { hashHistory,browserHistory } from 'react-router';\nimport Dialog from 'material-ui/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\n\nconst DialogExample = (props) => {\n  const handleClose = () => {\n    props.close()\n  };\n  const handleJump = () => {\n    props.close()\n    if(props.link){\n      // hashHistory.push(props.link)\n      // browserHistory.push(props.link)\n      // pros.location = props.link\n      alert('a')\n    }\n    if(props.action){\n      props.action()\n    }\n    \n  }\n  const actions = props.singleButton ? [<FlatButton label=\"确定\" primary={true} onTouchTap={handleClose}/>] : \n  [<FlatButton label=\"取消\" primary={true} onTouchTap={handleClose}/>,\n    <FlatButton label=\"确定\" primary={true} onTouchTap={handleJump}/>];\n  return (\n    <MuiThemeProvider>\n      <Dialog\n        title={props.title || ''}\n        actions={actions}\n        modal={false}\n        open={props.isOpen}\n        onRequestClose={handleClose}>\n        {props.children}\n      </Dialog>\n    </MuiThemeProvider>\n  );\n}\n\nexport default DialogExample\n\n\n// WEBPACK FOOTER //\n// ./components/common/Dialog.js","import React from 'react';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport CircularProgress from 'material-ui/CircularProgress';\nimport getSize from '../../utils/getSize'\n\nconst { windowH, windowW } = getSize()\nconst style = {\n\tposition:'relative',\n\tpaddingTop: 0.5 * windowH - 40,\n\ttextAlign: 'center'\n\n}\nconst CircleLoading = () => (\n\t<div style={style} id='circle'>\n\t\t<MuiThemeProvider>\n\t\t\t<CircularProgress size={60} thickness={7} />\n\t\t</MuiThemeProvider>\n\t</div>\n\n);\n\nexport default CircleLoading;\n\n\n// WEBPACK FOOTER //\n// ./components/common/CircleLoading.js","import fetch from 'isomorphic-fetch'\n\nexport const REQUEST_TOPICS = 'REQUEST_TOPICS'\nexport const RECEIVE_TOPICS = 'RECEIVE_TOPICS'\nexport const SELECT_TAB= 'SELECT_TAB'\nexport const RECORD_SCROLLT='RECORD_SCROLLT'\nexport const REQUEST_ARTICLE = 'REQUEST_ARTICLE'\nexport const RECEIVE_ARTICLE = 'RECEIVE_ARTICLE'\nexport const CHANGE_CURRENT_TOPICID = 'CHANGE_CURRENT_TOPICID'\nexport const CURRENT_ROUTER = 'CURRENT_ROUTER'\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS'\nexport const LOGIN_FAILED = 'LOGIN_FAILED'\nexport const LOGOUT = 'LOGOUT'\nexport const REQUEST_PROFILE = 'REQUEST_PROFILE'\nexport const RECEIVE_PROFILE = 'RECEIVE_PROFILE'\nexport const SWITCH_SUPPORT = 'SWITCH_SUPPORT'\nexport const FETCH_COMMENT = 'FETCH_COMMENT'\nexport const SWITCH_COLLECTED = 'SWITCH_COLLECTED'\nexport const RECORD_ARTICLE_SCROLLT = 'RECORD_ARTICLE_SCROLLT'\nexport const PUBLISH_TOPIC = 'PUBLISH_TOPIC'\nexport const FETCH_MESSAGE = 'FETCH_MESSAGE'\nexport const MARK_ALL_MESSAGES = 'MARK_ALL_MESSAGES'\nexport const GET_COLLECTED_TOPICS = 'GET_COLLECTED_TOPICS'\n// HomePage\nexport const selectTab = tab => ({\n  type:SELECT_TAB,\n  tab\n})\n\nconst requestTopics = tab => ({\n  type:REQUEST_TOPICS,\n  tab\n})\n\nconst receiveTopics = (tab,topics,page,limit) => ({\n  type:RECEIVE_TOPICS,\n  tab,\n  topics,\n  page,\n  limit\n})\n\nexport const fetchTopics = (tab,page=1,limit=20) => {\n  return dispatch => {\n    dispatch(requestTopics(tab))\n    fetch(`https://cnodejs.org/api/v1/topics?tab=${tab}&page=${page}&limit=${limit}`)\n    .then(response => response.json())\n    .then(json => dispatch(receiveTopics(tab,json.data,page,limit)))\n  }\n}\n\nexport const recordScrollT = (tab,scrollT) => {\n  return ({\n    type:RECORD_SCROLLT,\n    tab,\n    scrollT\n  })\n}\n\n\n// Article\nconst requestArticle = (topicId) => ({\n  type:REQUEST_ARTICLE,\n  topicId\n})\nconst receiveArticle = (topicId,article) => ({\n  type:RECEIVE_ARTICLE,\n  topicId,\n  article\n})\nconst changeCurrentTopicId = topicId => ({\n  type:CHANGE_CURRENT_TOPICID,\n  topicId\n})\n\nexport const recordArticleScrollT = (topicId,scrollT) => ({\n  type:RECORD_ARTICLE_SCROLLT,\n  topicId,\n  scrollT\n})\nexport const fetchArticle = (topicId,request=true) => {\n  return dispatch => {\n    if(request){\n      dispatch(requestArticle(topicId))\n      fetch(`https://cnodejs.org/api/v1/topic/${topicId}`)\n      .then(response => response.json())\n      .then(json => dispatch(receiveArticle(topicId,json.data)))\n    }else{\n      dispatch(changeCurrentTopicId(topicId))\n    }\n  }\n}\n\nexport const switchSupport = (accessToken,replyId,index) => {\n  return dispatch => {\n    fetch(`https://cnodejs.org/api/v1/reply/${replyId}/ups`, {\n            method: 'POST',\n            headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\"\n            },\n            body: `accesstoken=${accessToken}`\n        })\n    .then(response => response.json())\n    .then(json => dispatch({\n      type:SWITCH_SUPPORT,\n      replyId,\n      index,\n      success:json.success,\n      action:json.action\n    }))\n  }\n}\n\nexport const fetchComment = (accessToken,topicId,content,replyId) => {\n  return dispatch => {\n    const postConent = replyId ? `accesstoken=${accessToken}&content=${content}&replyId=${replyId}`:`accesstoken=${accessToken}&content=${content}`\n    fetch(`https://cnodejs.org/api/v1/topic/${topicId}/replies`, {\n            method: 'POST',\n            headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\"\n            },\n            body: postConent\n        })\n    .then(response => response.json())\n    .then(json => dispatch({\n      type:FETCH_COMMENT,\n      success:json.success,\n      replyId:json.reply_id\n    }))\n  }\n}\n\nexport const switchCollected = (isCollected,accessToken,articleId) => {\n  return dispatch => {\n    fetch(`https://cnodejs.org/api/v1/topic_collect/${isCollected?'de_collect':'collect'}`, {\n            method: 'POST',\n            headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\"\n            },\n            body: `accesstoken=${accessToken}&topic_Id=${articleId}`\n        })\n    .then(response => response.json())\n    .then(json => dispatch({\n      type:SWITCH_COLLECTED,\n      success:json.success\n    }))\n  }\n}\n\n// Footer\nexport const setCurrentRouter = router => ({\n  type:CURRENT_ROUTER,\n  router\n})\n\n// Login\nexport const fetchAccess = accessToken => {\n  return dispatch => {\n    fetch('https://cnodejs.org/api/v1/accesstoken', {\n                    method: 'POST',\n                    headers: {\n                        \"Content-Type\": \"application/x-www-form-urlencoded\"\n                    },\n                    body: `accesstoken=${accessToken}`\n                    })\n                .then(response => response.json())\n                .then(json => {\n                    if (json.success){\n                        dispatch(loginSucceed(json.loginname,json.id,accessToken))\n                    } else {\n                        dispatch(loginFailed(json.error_msg));\n                    }\n                 })\n  }\n}\n\nconst loginSucceed = (loginName,loginId,accessToken) => ({\n  type:LOGIN_SUCCESS,\n  loginName,\n  loginId,\n  accessToken\n})\n\nconst loginFailed = failedMessage => ({\n  type:LOGIN_FAILED,\n  failedMessage\n})\n\nexport const logout = () => ({\n  type:LOGOUT\n})\n\n\n// profile\nconst requestProfile = loginname => ({\n  type:REQUEST_PROFILE,\n  loginname\n})\nconst receiveProfile = (loginname,profile) => ({\n  type:RECEIVE_PROFILE,\n  loginname,\n  profile\n})\nconst getCollectedTopics = (userName) => {\n  return dispatch => {\n    fetch(`https://cnodejs.org/api/v1/topic_collect/${userName}`)\n    .then(response => response.json())\n    .then(json => dispatch({\n      type:GET_COLLECTED_TOPICS,\n      success:json.success,\n      data:json.data\n    }))\n  }\n}\nexport const fetchProfile = (loginname) => {\n  return dispatch => {\n    dispatch(requestProfile(loginname))\n    dispatch(getCollectedTopics(loginname))\n    fetch(`https://cnodejs.org/api/v1/user/${loginname}`)\n    .then(response => response.json())\n    .then(json => dispatch(receiveProfile(loginname,json.data)))\n  }\n}\n\n// publishTopic\nexport const fetchPublishTopic = (accessToken,tab,title,content) => {\n  return dispatch => {\n    const postConent =  `accesstoken=${accessToken}&tab=${tab}&content=${content}&title=${title}`\n    fetch(`https://cnodejs.org/api/v1/topics`, {\n            method: 'POST',\n            headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\"\n            },\n            body: postConent\n        })\n    .then(response => response.json())\n    .then(json => dispatch({\n      type:PUBLISH_TOPIC,\n      success:json.success,\n      topicId:json.topic_id\n    }))\n  }\n}\n\n// message\nexport const fetchMessage = (accessToken) => {\n  return dispatch => {\n    fetch(`https://cnodejs.org/api/v1/messages?accesstoken=${accessToken}`)\n    .then(response => response.json())\n    .then(json => dispatch({\n      type:FETCH_MESSAGE,\n      hasReadMessage:json.data.has_read_messages,\n      hasNotReadMessage:json.data.hasnot_read_messages\n    }))\n  }\n}\n\nexport const markAllMessages = (accessToken) => {\n  return dispatch => {\n    fetch(`https://cnodejs.org/api/v1/message/mark_all`, {\n            method: 'POST',\n            headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\"\n            },\n            body: `accesstoken=${accessToken}`\n        })\n    .then(response => response.json())\n    .then(json => dispatch({\n      type:MARK_ALL_MESSAGES,\n      isMarked:json.success\n    }))\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./actions.js","import urlPrefix from '../utils/urlPrefix'\r\n\r\nexport const FETCH_ERROR = 'FETCH_ERROR'\r\nexport const CLEAR_ERROR = 'CLEAR_ERROR'\r\nexport const FETCH_START = 'FETCH_START'\r\nexport const FETCH_END = 'FETCH_END'\r\n\r\nexport const fetchStart = () => ({\r\n    type: FETCH_START\r\n})\r\n\r\nexport const fetchEnd = () => ({\r\n    type: FETCH_END\r\n})\r\n\r\nexport const fetchError = e => ({\r\n    type: FETCH_ERROR,\r\n    data: e\r\n})\r\n\r\nexport const clearError = () => ({\r\n    type: CLEAR_ERROR\r\n})\n\n\n// WEBPACK FOOTER //\n// ./actions/fetchError.js","module.exports = {\n    style: {\n        redbox: {\n            boxSizing: 'border-box',\n            fontFamily: 'sans-serif',\n            position: 'fixed',\n            padding: 10,\n            top: '0px',\n            left: '0px',\n            bottom: '0px',\n            right: '0px',\n            width: '100%',\n            background: 'rgba(0, 0, 0, 0.75)',\n            color: 'red',\n            zIndex: 9999,\n            textAlign: 'left',\n            fontSize: '16px',\n            lineHeight: 1.2\n        }\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ../redBoxBlackStyle.js","import React, { PropTypes, Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport prefix from '../../../utils/routePrefix'\nimport { setTransition } from '../../../actions/hashUrl'\nimport { fetchProfile, switchCollected } from '../../../actions'\nimport styles from './styles.scss'\nimport LinkToLogin from '../../common/LinkToLogin/LinkToLogin'\nimport transformDate from '../../../utils/transformDate'\nimport classnames from 'classnames'\nimport { List, ListItem } from 'material-ui/List'\nimport Divider from 'material-ui/Divider'\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider'\nimport fetch from 'isomorphic-fetch'\n\n@connect()\nclass Content extends Component {\n\tconstructor() {\n\t\tsuper()\n\t\tthis.state = {\n\t\t\tisCollected: false\n\t\t}\n\t}\n\tcomponentWillMount() {\n\t\tthis.update(this.props)\n\t}\n\tcomponentWillReceiveProps(newProps) {\n\t\tif (this.props.collectedTopics.userName !== newProps.collectedTopics.userName) {\n\t\t\tthis.update(newProps);\n\t\t}\n\t}\n\tupdate(props) {\n\t\tconst { article, login, collectedTopics } = props\n\t\tif (login.succeed && collectedTopics.length !== 0) {\n\t\t\tlet isCollected = collectedTopics.some(topic => {\n\t\t\t\treturn article.id === topic.id\n\t\t\t})\n\t\t\tthis.setState({\n\t\t\t\tisCollected: isCollected\n\t\t\t})\n\t\t}\n\t}\n\trender() {\n\t\tconst { article, dispatch, fetchProfile, login, collectedTopics, profile } = this.props\n\t\treturn (\n\t\t\t<MuiThemeProvider>\n\t\t\t\t<List>\n\t\t\t\t\t<div style={{ margin: '-8px 0' }}>\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<div style={{ margin: -16 }}>\n\t\t\t\t\t\t\t\t<div className={styles.head}>\n\t\t\t\t\t\t\t\t\t<div className={styles.imgbox}>\n\t\t\t\t\t\t\t\t\t\t<img src={article.author.avatar_url} alt={article.author.loginname} />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className={styles.info}>\n\t\t\t\t\t\t\t\t\t\t<Link to={`${prefix}/profile`} onClick={e => {\n\t\t\t\t\t\t\t\t\t\t\tthis.props.dispatch(setTransition({ transition: 'move' }))\n\t\t\t\t\t\t\t\t\t\t\tif (profile.loginname !== article.author.loginname) {\n\t\t\t\t\t\t\t\t\t\t\t\tdispatch(fetchProfile(article.author.loginname))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t<span>{article.author.loginname}</span>\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t<span style={{ float: 'right' }}>发表于{transformDate(article.create_at)}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className={styles.info}>\n\t\t\t\t\t\t\t\t\t\t{login.succeed &&\n\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ marginRight: 5 }}>收藏</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"iconfont\" dangerouslySetInnerHTML={{ __html: '&#xe600;' }} style={{\n\t\t\t\t\t\t\t\t\t\t\t\t\theight: 16, lineHeight: '16px', fontSize: '15px',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: this.state.isCollected ? 'red' : 'black'\n\t\t\t\t\t\t\t\t\t\t\t\t}} onClick={e => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisCollected: !this.state.isCollected\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\tdispatch(switchCollected(this.state.isCollected, login.accessToken, article.id))\n\t\t\t\t\t\t\t\t\t\t\t\t\t// fetch(`https://cnodejs.org/api/v1/topic_collect/${this.state.isCollected?'de_collect':'collect'}`, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//         method: 'POST',\n\t\t\t\t\t\t\t\t\t\t\t\t\t//         headers: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//             \"Content-Type\": \"application/x-www-form-urlencoded\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t//         },\n\t\t\t\t\t\t\t\t\t\t\t\t\t//         body: `accesstoken=${login.accessToken}&topic_Id=${article.id}`\n\t\t\t\t\t\t\t\t\t\t\t\t\t//     })\n\t\t\t\t\t\t\t\t\t\t\t\t}}></i>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t<span style={{ float: 'right' }}>\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"iconfont\" dangerouslySetInnerHTML={{ __html: '&#xe6ae;' }} style={{ fontSize: '18px', color: 'grey' }}></i>\n\t\t\t\t\t\t\t\t\t\t\t{article.visit_count}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span style={{ float: 'right', marginRight: 10 }}>\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"iconfont\" dangerouslySetInnerHTML={{ __html: '&#xe63f;' }} style={{ fontSize: '14px', color: 'grey' }}></i>\n\t\t\t\t\t\t\t\t\t\t\t{article.reply_count}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<div className={styles.title}>{article.title}</div>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<ListItem style={{ lineHeight: 'auto' }}>\n\t\t\t\t\t\t\t<div style={{ margin: -16 }}>\n\t\t\t\t\t\t\t\t<div className={`${styles.main} markdown-body`} dangerouslySetInnerHTML={{ __html: article.content }}></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</div>\n\t\t\t\t</List>\n\n\t\t\t</MuiThemeProvider>\n\t\t)\n\t}\n\n}\n\nexport default Content\n\n\n\n// WEBPACK FOOTER //\n// ./components/Article/Content/Content.js","import React, { PropTypes,Component } from 'react'\nimport {Link} from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport prefix from '../../../utils/routePrefix'\nimport styles from './styles.scss'\nimport { setTransition } from '../../../actions/hashUrl'\nimport {fetchComment,fetchArticle,recordArticleScrollT,switchSupport,fetchProfile} from '../../../actions'\nimport transformDate from '../../../utils/transformDate'\nimport getSize from '../../../utils/getSize'\nimport LinkToLogin from '../../common/LinkToLogin/LinkToLogin'\nimport Dialog from '../../common/Dialog'\nimport classnames from 'classnames'\nimport {List, ListItem} from 'material-ui/List';\nimport Divider from 'material-ui/Divider';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport TextField from 'material-ui/TextField';\nimport RaisedButton from 'material-ui/RaisedButton';\n\n@connect()\nclass Reply extends Component {\n\tconstructor(){\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tisSupported:[],\n\t\t\tsupportNum:[],\n\t\t\theight:[],\n\t\t\tname:[],\n\t\t\topenDialog:false\n\t\t}\n\t}\n\tsupportState = (replies,login) => {\n\t\tlet isSupported = replies.map(reply => {\n\t\t\treturn reply.ups.some(up => up === login.loginId)\n\t\t})\n\t\tlet supportNum = replies.map(reply => reply.ups.length)\n\t\tthis.setState({isSupported,supportNum})\n\t}\n\tcloseDialog = () => {\n\t\tthis.setState({\n\t\t\topenDialog:false\n\t\t})\n\t}\n\tcomponentWillMount(){\n\t\tconst {replies,login} = this.props\n\t\tthis.supportState(replies,login)\n\t}\n\n\tcomponentWillReceiveProps(newProps){\t\n\t\tconst {switchSupportInfo,replies,login,isCommented,currentTopicId,dispatch} = newProps\n\t\tif(this.state.height.length !== 0){\n\t\t\tthis.setState({\n\t\t\t\theight:[],\n\t\t\t\tname:[]\n\t\t\t})\n\t\t}\n\t\tif(replies.length !== this.props.replies.length){\n\t\t\tthis.supportState(replies,login)\n\t\t}\n\t\tif(isCommented && this.props.isCommented !== isCommented){\n\t\t\tdispatch(fetchArticle(currentTopicId))\n\t\t}\n\t\t// if(switchSupportInfo){\n\t\t// \tif(!this.props.switchSupportInfo || !(this.props.switchSupportInfo.action===switchSupportInfo.action && this.props.switchSupportInfo.index===switchSupportInfo.index)){\n\t\t// \t\tif(switchSupportInfo.success){\n\t\t// \t\t\tlet isSupported = this.state.isSupported;\n\t\t// \t\t\tlet supportNum = this.state.supportNum;\n\t\t// \t\t\tisSupported[switchSupportInfo.index] = switchSupportInfo.action === 'up';\n\t\t// \t\t\tswitchSupportInfo.action === 'up' ? ++supportNum[switchSupportInfo.index] : --supportNum[switchSupportInfo.index]\n\t\t// \t\t\tthis.setState({\n\t\t// \t\t\t\tisSupported,\n\t\t// \t\t\t\tsupportNum\n\t\t// \t\t\t})\n\t\t// \t\t}else{\t\n\t\t// \t\t}\n\t\t// \t}\n\t\t// }\n\t}\n\n\trender(){\n\t\tlet {profile,replies,dispatch,login,switchSupportInfo,currentTopicId}= this.props\n\t\treturn (\n\t\t\t<div className={styles.reply}>\n\t\t\t\t<Dialog isOpen={this.state.openDialog} close={this.closeDialog} singleButton={true}>\n\t\t\t\t\t不能给自己点赞！\n\t\t\t\t</Dialog>\n\t\t\t    <div style={{margin:'-8px 0'}}>\n\t\t\t      <MuiThemeProvider>\n\t\t\t      \t<List>\n\t\t\t      \t\t<ListItem>\n\t\t\t      \t\t\t<div style={{margin:-16}}>\n\t\t\t      \t\t\t\t<h2>共有{replies.length}条回复</h2>\n\t\t\t      \t\t\t</div>\n\t\t\t      \t\t</ListItem>\n\t\t\t      \t\t{replies.map((reply,index) => (\n\t\t\t      \t\t\t<div key={index}>\n\t\t\t      \t\t\t\t<ListItem>\n\t\t\t      \t\t\t\t\t<div className={styles.author}>\n\t\t\t      \t\t\t\t\t\t<img src={reply.author.avatar_url} alt={reply.author.loginname}/>\n\t\t\t      \t\t\t\t\t\t<div style={{textAlign:'center',paddingTop:10}}>{index+1}楼</div>\n\t\t\t      \t\t\t\t\t</div>\n\t\t\t      \t\t\t\t\t<div className={styles.main}>\n\t\t\t      \t\t\t\t\t\t<div className={styles.item}>\n\t\t\t      \t\t\t\t\t\t\t<Link to={`${prefix}/profile`} onClick={e => {\n\t\t\t\t\t\t\t\t\t\t\t\t  this.props.dispatch(setTransition({ transition: 'move' }))\n\t\t\t      \t\t\t\t\t\t\t\tif(profile.loginname !== reply.author.loginname){\n\t\t\t      \t\t\t\t\t\t\t\t\tdispatch(fetchProfile(reply.author.loginname))\n\t\t\t      \t\t\t\t\t\t\t\t}\n\t\t\t      \t\t\t\t\t\t\t}}>\n\t\t\t      \t\t\t\t\t\t\t {reply.author.loginname}\n\t\t\t      \t\t\t\t\t\t\t</Link>\n\t\t\t      \t\t\t\t\t\t\t<span style={{float:'right'}}>{transformDate(reply.create_at)}</span>\n\t\t\t      \t\t\t\t\t\t</div>\n\t\t\t      \t\t\t\t\t\t<div className={`${styles.item} markdown-text`} dangerouslySetInnerHTML={{__html: reply.content}} style={{lineHeight:'21px'}}></div>\n\t\t\t      \t\t\t\t\t\t<div className={styles.item}>\n\t\t\t      \t\t\t\t\t\t\t<div style={{float:'right'}}>\n\t\t\t      \t\t\t\t\t\t\t\t<span  onClick={e => {\n\t\t\t      \t\t\t\t\t\t\t\t\tlet heightArr = [];\n\t\t\t      \t\t\t\t\t\t\t\t\tlet nameArr = [];\n\t\t\t      \t\t\t\t\t\t\t\t\theightArr[index] = this.state.height[index] ? 0 : 120\n\t\t\t      \t\t\t\t\t\t\t\t\tnameArr[index] = `@${reply.author.loginname} `\n\t\t\t      \t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t      \t\t\t\t\t\t\t\t\t\theight:heightArr,\n\t\t\t      \t\t\t\t\t\t\t\t\t\tname:nameArr\n\t\t\t      \t\t\t\t\t\t\t\t\t})\n\t\t\t      \t\t\t\t\t\t\t\t}} style={{cursor:'pointer',marginRight:10}}>\n\t\t\t      \t\t\t\t\t\t\t\t\t回复 \n\t\t\t      \t\t\t\t\t\t\t\t</span>\n\t\t\t      \t\t\t\t\t\t\t\t<span>\n\t\t\t      \t\t\t\t\t\t\t\t\t<i className=\"iconfont\" dangerouslySetInnerHTML={{__html: '&#xe610;'}} onClick={ e => {\n\t\t\t      \t\t\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t      \t\t\t\t\t\t\t\t\t\tif(login.loginId){\n\t\t\t      \t\t\t\t\t\t\t\t\t\t\tif(reply.author.loginname !== login.loginName){\n\t\t\t      \t\t\t\t\t\t\t\t\t\t\t\tconst {scrollT} = getSize()\n\t\t\t      \t\t\t\t\t\t\t\t\t\t\t    // 点赞的时候也会发送数据请求，所以Article组件会刷新，如果不保存位置的话，Article的位置会变成上次记录的位置或者默认位置0\n\t\t\t      \t\t\t\t\t\t\t\t\t\t\t    dispatch(recordArticleScrollT(currentTopicId,scrollT))\n\n\t\t\t      \t\t\t\t\t\t\t\t\t\t\t    let isSupported = this.state.isSupported;\n\t\t\t      \t\t\t\t\t\t\t\t\t\t\t    let supportNum = this.state.supportNum;\n\t\t\t      \t\t\t\t\t\t\t\t\t\t\t    isSupported[index]? --supportNum[index] : ++supportNum[index]\n\t\t\t      \t\t\t\t\t\t\t\t\t\t\t    isSupported[index] = !isSupported[index]\n\t\t\t      \t\t\t\t\t\t\t\t\t\t\t    this.setState({\n\t\t\t      \t\t\t\t\t\t\t\t\t\t\t    \tisSupported,\n\t\t\t      \t\t\t\t\t\t\t\t\t\t\t    \tsupportNum\n\t\t\t      \t\t\t\t\t\t\t\t\t\t\t    })\n\t\t\t      \t\t\t\t\t\t\t\t\t\t\t    dispatch(switchSupport(login.accessToken,reply.id,index))\n\t\t\t      \t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t      \t\t\t\t\t\t\t\t\t\t    \tthis.setState({\n\t\t\t      \t\t\t\t\t\t\t\t\t\t    \t\topenDialog:true\n\t\t\t      \t\t\t\t\t\t\t\t\t\t    \t})\n\t\t\t      \t\t\t\t\t\t\t\t\t\t    }\n\t\t\t      \t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t      \t\t\t\t\t\t\t\t\t\t\tlet heightArr = [];\n\t\t\t      \t\t\t\t\t\t\t\t\t\t\theightArr[index] = this.state.height[index] ? 0 : 150\n\t\t\t      \t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t      \t\t\t\t\t\t\t\t\t\t\t\theight:heightArr\n\t\t\t      \t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t      \t\t\t\t\t\t\t\t\t\t}\n\t\t\t      \t\t\t\t\t\t\t\t\t\t\n\t\t\t      \t\t\t\t\t\t\t\t\t}} style={{color:this.state.isSupported[index] ? 'red':'black',cursor:'pointer'}}\n\t\t\t      \t\t\t\t\t\t\t\t\t></i>\n\t\t\t      \t\t\t\t\t\t\t\t\t{this.state.supportNum[index]}\n\t\t\t      \t\t\t\t\t\t\t\t</span>\n\t\t\t      \t\t\t\t\t\t\t</div>\n\t\t\t      \t\t\t\t\t\t</div>\n\t\t\t      \t\t\t\t\t\t<NeedComment {...({login,dispatch,currentTopicId})} \n\t\t\t      \t\t\t\t\t\tpHeight={this.state.height[index]} defaultValue={this.state.name[index]}/>\n\t\t\t      \t\t\t\t\t</div>\n\t\t\t      \t\t\t\t</ListItem>\n\t\t\t      \t\t\t\t<Divider/>\n\t\t\t      \t\t\t</div>\n\t\t\t      \t\t))}\n\t\t\t      \t</List>\n\t\t\t      </MuiThemeProvider>\n\t\t\t    </div>\n\t\t\t\t<MuiThemeProvider>\n\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t<NeedComment {...({login,dispatch,currentTopicId})} pHeight='150px'/>\n\t\t\t\t\t</ListItem>\n\t\t\t\t</MuiThemeProvider>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nclass NeedComment extends Component{\n\trender(){\n\t\tconst {login,dispatch,currentTopicId,pHeight} = this.props\n\t\tconst sHeight = pHeight ? pHeight : 0 \n\t\tconst style = pHeight ? {overflow:'hidden',minHeight:pHeight} : {overflow:'hidden',height:0}\n\t\t// const tail = '<b>—— —— 来自lumia2046专版客户端</b>'\n\t\tconst tail = '<p style=\"text-align:right\"><a href=\"https://github.com/lumia2046/cnode\"> — — 来自lumia2046-react-cnode</a></p>'\n\t\tif(login.loginId){\n\t\t\treturn (<div style={style} className={styles.textarea}>\n\t\t\t\t\t\t<MuiThemeProvider>\n\t\t\t    \t\t<form className={styles.form} >\n\t\t\t\t\t\t\t<TextField hintText={this.props.defaultValue || '请输入内容'}  multiLine={true} ref='textarea'\n\t\t\t\t\t\t\tunderlineStyle={{color:'#00BCD4'}} onClick={e => {\n\t\t\t\t\t\t\t\tconst defaultValue = this.props.defaultValue || ''\n\t\t\t\t\t\t\t\te.target.value = e.target.value || defaultValue\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/><br />\n\t\t\t\t\t\t\t<RaisedButton label=\"回复\" primary={true} onClick={e => {\n\t\t\t    \t\t\t\te.preventDefault();\n\t\t\t    \t\t\t\tconst textarea = this.refs.textarea.input.refs.input.value + tail\n\t\t\t    \t\t\t\tif(!textarea.trim()){\n\t\t\t    \t\t\t\t  return null;\n\t\t\t    \t\t\t\t}\n\t\t\t    \t\t\t\tconst {scrollT,contentH,windowH} = getSize()\n\t\t\t    \t\t\t\tdispatch(fetchComment(login.accessToken,currentTopicId,textarea))\n\t\t\t    \t\t\t\tif(pHeight === 120){\n\t\t\t    \t\t\t\t\tdispatch(recordArticleScrollT(currentTopicId,contentH-windowH))\n\t\t\t    \t\t\t\t}else{\n\t\t\t    \t\t\t\t\tdispatch(recordArticleScrollT(currentTopicId,scrollT))\n\t\t\t    \t\t\t\t}\n\t\t\t    \t\t\t\tthis.refs.textarea.input.refs.input.value = ''\n\t\t\t    \t\t\t}}/>\n\t\t\t    \t\t</form>\n\t\t\t\t\t\t</MuiThemeProvider>\n\t\t\t    \t</div>)\n\t\t}else{\n\t\t\treturn  (<div style={{overflow:'hidden',height:sHeight,lineHeight:`${sHeight}px`}} className={styles.textarea}>\n\t\t\t\t<LinkToLogin  dispatch={dispatch}/> \n\t\t\t</div>)\n\t\t}\n\t}\n}\nexport default Reply\n\n\n// WEBPACK FOOTER //\n// ./components/Article/Reply/Reply.js","import React from 'react'\nimport {Link} from 'react-router-dom'\nimport prefix from '../../../utils/routePrefix'\nimport styles from './styles.scss'\nimport { setTransition } from '../../../actions/hashUrl'\nimport transformDate from '../../../utils/transformDate'\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport Avatar from 'material-ui/Avatar';\nimport {List, ListItem} from 'material-ui/List';\nimport Subheader from 'material-ui/Subheader';\nimport Divider from 'material-ui/Divider';\n\nconst Profile = props => {\n\tlet {collectedTopics,profile} = props\n\tlet {avatar_url,create_at,loginname,recent_replies,recent_topics,score} = profile;\n\trecent_replies = recent_replies ? recent_replies : [];\n\trecent_topics = recent_topics ? recent_topics : [];\n\n\treturn (\n\t\t<div className={styles.profile}>\n\t\t\t<div className={styles.header}>\n\t\t\t\t<img src={avatar_url} alt={loginname}/>\n\t\t\t\t<p>{loginname}</p>\n\t\t\t\t<p>积分:{score}</p>\n\t\t\t\t<p>注册于:{transformDate(create_at)}</p>\n\t\t\t</div>\n\t\t\t<div className={styles.boxs}>\n\t\t\t\t<div className={styles.box}>\n\t\t\t\t\t<MuiThemeProvider>\n\t\t\t\t\t\t<List>\n\t\t\t\t\t\t  <Subheader>收藏的话题</Subheader>\n\t\t\t\t\t\t  <Divider/>\n\t\t\t\t\t\t  <TopicList {...props} topics={collectedTopics}/>\n\t\t\t\t\t\t</List>\n\t\t\t\t\t</MuiThemeProvider>\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.box}>\n\t\t\t\t\t<MuiThemeProvider>\n\t\t\t\t\t\t<List>\n\t\t\t\t\t\t  <Subheader>最近参与的话题</Subheader>\n\t\t\t\t\t\t  <Divider/>\n\t\t\t\t\t\t  <TopicList {...props} topics={recent_replies}/>\n\t\t\t\t\t\t</List>\n\t\t\t\t\t</MuiThemeProvider>\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.box}>\n\t\t\t\t\t<MuiThemeProvider>\n\t\t\t\t\t\t<List>\n\t\t\t\t\t\t  <Subheader>最近创建的话题</Subheader>\n\t\t\t\t\t\t  <Divider/>\n\t\t\t\t\t\t  <TopicList {...props} topics={recent_topics}/>\n\t\t\t\t\t\t</List>\n\t\t\t\t\t</MuiThemeProvider>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nconst TopicList = props => {\n\tconst {dispatch,article,fetchArticle,topics} = props;\n\n\treturn (\n\t\t<div>\n\t\t    {topics.length === 0 && <ListItem primaryText=\"还没有相关话题\" />}\n\t\t    {topics.length > 0 && \n\t\t\t\ttopics.map((topic,index) => \n\t\t\t\t\t<Link key={index} to={`${prefix}/topic/${topic.id}`} className={styles.link} onClick={() => {\n\t\t\t\t\t\tdispatch(setTransition({ transition: 'move' }))\n\t\t\t\t\t  if(!article[topic.id]){\n\t\t\t\t\t    dispatch(fetchArticle(topic.id))\n\t\t\t\t\t  }else if(article.currentTopicId !== topic.id){\n\t\t\t\t\t    dispatch(fetchArticle(topic.id,false))\n\t\t\t\t\t  }\n\t\t\t\t\t  }}>\n\t\t\t\t\t  <ListItem primaryText={topic.title} leftAvatar={<Avatar src={topic.author.avatar_url} />}/>\n\t\t\t\t\t  <Divider/>\n\t\t\t\t\t</Link>\n\t\t\t\t\t\n\t\t\t\t)\n\t\t\t}\n\t\t</div>\n\t)\n}\n\n\nconst ListExampleChat = () => (\n    <List>\n      <Subheader>Recent chats</Subheader>\n      <ListItem\n        primaryText=\"Brendan Lim\"\n        leftAvatar={<Avatar src=\"images/ok-128.jpg\" />}\n      />\n      <Divider />\n    </List>\n);\n\n\nexport default Profile\n\n\n// WEBPACK FOOTER //\n// ./components/common/Profile/Profile.js","import 'babel-polyfill';\nimport React from 'react';\nimport ReactDOM from 'react-dom'\nimport store from './configureStore'\nimport { Provider } from 'react-redux'\n// import { Router,hashHistory } from 'react-router'\nimport Routes from './Routes'\nimport './styles/index.css'\nimport { AppContainer } from 'react-hot-loader'\n\nimport injectTapEventPlugin from 'react-tap-event-plugin'\ninjectTapEventPlugin()\n\n\nconst render = (Component) => {\n    ReactDOM.render(\n    \t<AppContainer>\n        \t<Provider store={store}>\n        \t    <Component />\n        \t</Provider>\n        </AppContainer>,\n        document.getElementById('root')\n    )\n}\n\nrender(Routes)\n\nif(module.hot) {\n    module.hot.accept('./Routes', () => { render(Routes) });\n}\n\n    // ReactDOM.render(\n    // \t<AppContainer>\n    //     \t<Provider store={store}>\n    //     \t    <div>aaaaaaaa</div>\n    //     \t</Provider>\n    //     </AppContainer>,\n    //     document.getElementById('root')\n    // )\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","export const SET_TRANSITION = 'SET_TRANSITION'\r\nexport const SET_HASH_URL = 'SET_HASH_URL'\r\n\r\n\r\nexport const setHashUrl = (hashUrl) => {\r\n  return {\r\n    type:SET_HASH_URL,\r\n    data:hashUrl\r\n  }\r\n}\r\n\r\nexport const setTransition = (transiton) => {\r\n  return {\r\n    type:SET_TRANSITION,\r\n    data:transiton\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./actions/hashUrl.js","const getSize = () => {\n\tlet windowW,windowH,contentH,contentW,scrollT;\n\twindowH = window.innerHeight;\n\twindowW = window.innerWidth;\n\tscrollT = document.documentElement.scrollTop || document.body.scrollTop;\n\tcontentH = (document.documentElement.scrollHeight > document.body.scrollHeight) ? document.documentElement.scrollHeight : document.body.scrollHeight;\n\tcontentW = (document.documentElement.scrollWidth > document.body.scrollWidth) ? document.documentElement.scrollWidth : document.body.scrollWidth;\n\treturn {windowW,windowH,contentH,contentW,scrollT}\n}\n\nexport default getSize;\n\n\n// WEBPACK FOOTER //\n// ./utils/getSize.js","// 使用browserHistory需要进行判断,在生产环境下，如果编译的文件不是根目录文件,而是在子文件夹内,子文件夹的地址部分会被browserHistory解析成路由\n// 比如：编译的文件放在站点www文件夹的cnode文件夹里,访问时用github.com/cnode/,但是此时cnode/被browserHistory解析成路由,这个路由不存在所以会出问题\n// let prefix = process.env.NODE_ENV === 'production' ? '/cnode' : '';\n\n// 使用hashHistory则不需要这样的判断，因为router被放在hash中，而浏览器能正确解析hash\nlet prefix = '';\nexport default prefix;\n\n\n// WEBPACK FOOTER //\n// ./utils/routePrefix.js","import { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\nimport { createLogger } from 'redux-logger';\nimport { ConnectedRouter, routerReducer, routerMiddleware, push } from 'react-router-redux';\nimport createHistory from 'history/createBrowserHistory';\nimport rootReducer from './reducers/index'\n\nconst history = createHistory();\nconst middleware = routerMiddleware(history)\nconst logger = createLogger({ collapsed: true })\nconst middlewares = [thunk, middleware]\n\nif(process.env.NODE_ENV === 'development') {\n        middlewares.push(logger)\n}\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(...middlewares)))\n    \nexport default store\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./configureStore.js","import { combineReducers } from 'redux'\nimport homePage from './homePage'\nimport article from './article'\nimport login from './login'\nimport profile from './profile'\nimport message from './message'\nimport publishTopic from './publishTopic'\nimport hashUrl from './hashUrl'\nimport fetchError from './fetchError'\n\nconst rootReducer = combineReducers({\n    homePage,\n    article,\n    login,\n    profile,\n    publishTopic,\n    message,\n    hashUrl,\n    fetchError\n})\n\nexport default rootReducer\n\n\n// WEBPACK FOOTER //\n// ./reducers/index.js","import {\n  SELECT_TAB, RECORD_SCROLLT,\n  REQUEST_TOPICS, RECEIVE_TOPICS\n} from '../actions'\n\n\nconst selectedTab = (state, action) => {\n  switch (action.type) {\n    case SELECT_TAB:\n      return action.tab\n    default:\n      return state\n  }\n}\n\n// 当组件第一次发出REQUEST_TOPICS后，需要对其返回的state进行初始化，否则没有topics等属性会报错\nfunction tabDataItem(state = { isFetching: false, page: 0, scrollT: 0, topics: [] }, action) {\n  switch (action.type) {\n    case REQUEST_TOPICS:\n      return {\n        ...state,\n        isFetching: true\n      }\n    case RECEIVE_TOPICS:\n      if (state.page < action.page) {\n        let topics = state.topics\n        action.topics = topics.concat(action.topics)\n      }\n      return {\n        ...state,\n        isFetching: false,\n        page: action.page,\n        topics: action.topics,\n        limit: action.limit\n      }\n    case RECORD_SCROLLT:\n      return {\n        ...state,\n        scrollT: action.scrollT\n      }\n    default:\n      return state\n  }\n}\n\nconst tabData = (state = {}, action) => {\n  switch (action.type) {\n    case RECEIVE_TOPICS:\n    case REQUEST_TOPICS:\n    case RECORD_SCROLLT:\n      return {\n        ...state,\n        [action.tab]: tabDataItem(state[action.tab], action)\n      }\n    default:\n      return state\n  }\n}\n\nconst initState = sessionStorage.getItem('store') ? JSON.parse(sessionStorage.getItem('store')).homePage : {\n  selectedTab: 'all', tabData: {}\n}\n\nconst homePage = (state = initState, action) => {\n  if (state) {\n    const sTab = selectedTab(state.selectedTab, action);\n    const tData = tabData(state.tabData, action);\n    // 返回的一定要是一个新的对象，如果只是改变原来的state,返回的还是原来的state对象,就无法被store.subscribe监听到，从而不会对组件状态进行更新\n    return { ...state, selectedTab: sTab, tabData: tData }\n  }\n  return state\n\n}\n\nexport default homePage;\n\n\n\n\n// WEBPACK FOOTER //\n// ./reducers/homePage.js","import {\n\tREQUEST_ARTICLE, RECEIVE_ARTICLE, CHANGE_CURRENT_TOPICID, SWITCH_SUPPORT, FETCH_COMMENT, RECORD_ARTICLE_SCROLLT\n} from '../actions'\n\nconst initState = sessionStorage.getItem('store') ? JSON.parse(sessionStorage.getItem('store')).article : {\n\tcurrentTopicId: ''\n}\n\nconst article = (state = initState, action) => {\n\tlet stateItem = state[action.topicId] || {}\n\tswitch (action.type) {\n\t\tcase CHANGE_CURRENT_TOPICID:\n\t\t\treturn { ...state, currentTopicId: action.topicId }\n\t\tcase SWITCH_SUPPORT:\n\t\t\treturn { ...state, switchSupportInfo: { replyId: action.replyId, index: action.index, success: action.success, action: action.action } }\n\t\tcase FETCH_COMMENT:\n\t\t\treturn { ...state, isCommented: action.success }\n\t\tcase RECORD_ARTICLE_SCROLLT:\n\t\t\tstateItem = { ...stateItem, scrollT: action.scrollT }\n\t\t\treturn { ...state, [action.topicId]: stateItem, currentTopicId: action.topicId }\n\t\tcase REQUEST_ARTICLE:\n\t\t\tstateItem = { ...stateItem, isFetching: true }\n\t\t\treturn { ...state, [action.topicId]: stateItem, currentTopicId: action.topicId, isCommented: false }\n\t\tcase RECEIVE_ARTICLE:\n\t\t\tstateItem = { ...stateItem, isFetching: false, article: action.article }\n\t\t\treturn { ...state, [action.topicId]: stateItem }\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nexport default article\n\n\n// WEBPACK FOOTER //\n// ./reducers/article.js","import {\n\tLOGIN_SUCCESS, LOGIN_FAILED, LOGOUT\n} from '../actions'\n\n\nconst initState = sessionStorage.getItem('store') ? JSON.parse(sessionStorage.getItem('store')).login : {\n\tsucceed: false\n}\n\nconst login = (state = initState, action) => {\n\tswitch (action.type) {\n\t\tcase LOGIN_SUCCESS:\n\t\t\treturn { ...state, succeed: true, loginName: action.loginName, loginId: action.loginId, accessToken: action.accessToken }\n\t\tcase LOGIN_FAILED:\n\t\t\treturn { ...state, succeed: false, failedMessage: action.failedMessage }\n\t\tcase LOGOUT:\n\t\t\treturn { succeed: false }\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nexport default login\n\n\n// WEBPACK FOOTER //\n// ./reducers/login.js","import {\n\tREQUEST_PROFILE, RECEIVE_PROFILE, GET_COLLECTED_TOPICS\n} from '../actions'\n\nconst initState = sessionStorage.getItem('store') ? JSON.parse(sessionStorage.getItem('store')).profile : {\n\tisFetching: false, collectedTopics: []\n}\n\nconst profile = (state = initState, action) => {\n\tswitch (action.type) {\n\t\tcase REQUEST_PROFILE:\n\t\t\treturn { ...state, isFetching: true }\n\t\tcase RECEIVE_PROFILE:\n\t\t\treturn { ...state, ...action.profile, isFetching: false }\n\t\tcase GET_COLLECTED_TOPICS:\n\t\t\treturn { ...state, collectedTopics: action.data }\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nexport default profile\n\n\n// WEBPACK FOOTER //\n// ./reducers/profile.js","import {\n\tFETCH_MESSAGE, MARK_ALL_MESSAGES\n} from '../actions'\n\nconst initState = sessionStorage.getItem('store') ? JSON.parse(sessionStorage.getItem('store')).message : {\n\tisMarked: false, hasReadMessage: [], hasNotReadMessage: []\n}\n\nconst message = (state = initState, action) => {\n\tswitch (action.type) {\n\t\tcase FETCH_MESSAGE:\n\t\t\treturn { ...state, hasReadMessage: action.hasReadMessage, hasNotReadMessage: action.hasNotReadMessage }\n\t\tcase MARK_ALL_MESSAGES:\n\t\t\treturn { ...state, isMarked: action.isMarked }\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nexport default message\n\n\n// WEBPACK FOOTER //\n// ./reducers/message.js","import {\n\tPUBLISH_TOPIC\n} from '../actions'\n\nconst initState = sessionStorage.getItem('store') ? JSON.parse(sessionStorage.getItem('store')).publishTopic : {\n\tsuccess: false\n}\n\n\nconst publishTopic = (state = initState, action) => {\n\tswitch (action.type) {\n\t\tcase PUBLISH_TOPIC:\n\t\t\treturn { ...state, success: action.success, topicId: action.topicId }\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nexport default publishTopic\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./reducers/publishTopic.js","import {\r\n  SET_HASH_URL, SET_TRANSITION\r\n} from '../actions/hashUrl'\r\n\r\nconst initState = sessionStorage.getItem('store') ? JSON.parse(sessionStorage.getItem('store')).hashUrl : {\r\n  oldUrl: '/', currentUrl: '/', transition: 'none'\r\n}\r\n\r\nconst hashUrl = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case SET_HASH_URL:\r\n    case SET_TRANSITION:\r\n      return { ...state, ...action.data }\r\n    default:\r\n      return state\r\n  }\r\n\r\n}\r\n\r\nexport default hashUrl;\n\n\n// WEBPACK FOOTER //\n// ./reducers/hashUrl.js","import {\r\n  FETCH_START, FETCH_END, FETCH_ERROR, CLEAR_ERROR\r\n} from '../actions/fetchError'\r\n\r\nconst initState = sessionStorage.getItem('store') ? JSON.parse(sessionStorage.getItem('store')).fetchError : {\r\n  error: null, fetched: null\r\n}\r\n\r\nconst fetchError = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case FETCH_START:\r\n      return { ...state, fetched: 'start' }\r\n    case FETCH_END:\r\n      return { ...state, fetched: 'end' }\r\n    case FETCH_ERROR:\r\n      return { ...state, error: action.data, fetched: 'failed' }\r\n    case CLEAR_ERROR:\r\n      return { ...state, error: null }\r\n    default:\r\n      return state\r\n  }\r\n\r\n}\r\n\r\nexport default fetchError\n\n\n// WEBPACK FOOTER //\n// ./reducers/fetchError.js","import {os} from './getOS'\r\n\r\nlet prefix = os == 'win32'?'http://localhost:8081':'/api'\r\n// let prefix = 'http://192.168.30.90:8080/s';\r\n\r\n // let prefix = '/api'\r\n\r\nexport default prefix\n\n\n// WEBPACK FOOTER //\n// ./utils/urlPrefix.js","export const os = 'win32'\n\n\n// WEBPACK FOOTER //\n// ./utils/getOS.js","import React, { Component } from 'react'\nimport { Route, Router, Redirect, Switch, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport createHistory from 'history/createHashHistory'\nimport App from './containers/App'\nimport HomePage from './containers/HomePage'\nimport Article from './containers/Article'\nimport Message from './containers/Message'\nimport Login from './containers/Login'\nimport Profile from './containers/Profile'\nimport PublishTopic from './containers/PublishTopic'\nimport prefix from './utils/routePrefix'\nimport getSize from './utils/getSize'\nimport { setHashUrl, setTransition } from './actions/hashUrl'\n// import { clearUserInfo } from './actions/login'\nimport { clearError } from './actions/fetchError'\nimport Transition from 'react-transition-group/Transition'\nimport { CSSTransition, TransitionGroup } from 'react-transition-group'\nconst history = createHistory()\n\n\n\n@connect(store => ({ store }))\nclass Routes extends Component {\n    constructor() {\n        super()\n        this.state = {}\n    }\n\n    hashChange = (ev) => {\n        if (this.props.store.hashUrl.oldURL != '/') {\n            this.setState({ overflow: 'hidden' })\n            setTimeout(() => this.setState({ overflow: 'visible' }), 500)\n        }\n\n        const dispatch = this.props.dispatch\n        let hashUrl = null;\n        if (ev.oldURL) {\n            hashUrl = { oldUrl: ev.oldURL.split('#')[1], currentUrl: ev.newURL.split('#')[1] }\n        } else {\n            this.oldUrl = this.currentUrl\n            this.currentUrl = window.location.href.split('#')[1]\n            hashUrl = { oldUrl: this.oldUrl, currentUrl: this.currentUrl }\n        }\n        dispatch(setHashUrl(hashUrl))\n\n        // if (this.props.hashUrl.transition != 'none') {\n        //     clearTimeout(this.transitionTimeOut)\n        //     this.transitionTimeOut = setTimeout(() => {\n        //         dispatch(setTransition({ transition: 'none' }))\n        //     }, 50)\n        // }\n    }\n\n    oldUrl = '/'\n    currentUrl = '/'\n\n    // changeTransition = (transition) => {\n    //     this.setState({ transition: transition })\n    // }\n\n    componentWillMount() {\n        let dispatch = this.props.dispatch\n        window.myDispatch = dispatch\n        let menu = window.location.href.split('#')[1].split('/')\n        if (menu[1]) {\n            this.currentUrl = window.location.href.split('#')[1]\n            dispatch(setHashUrl({ oldUrl: this.oldUrl, currentUrl: window.location.href.split('#')[1] }))\n        } else {\n            dispatch(setHashUrl({ oldUrl: this.oldUrl, currentUrl: this.currentUrl }))\n        }\n        window.addEventListener('hashchange', this.hashChange)\n        // 由于头部组件fix定位，在路由切换时，width:100%在手机上的判定会有问题，暂时采取全局变量储存页面加载时的宽度\n        // window.width = document.getElementById('root').offsetWidth\n        // console.log('****************',document.getElementById('root').offsetWidth)\n    }\n\n    saveState = () => {\n        let store = this.props.store\n        sessionStorage.setItem('store', JSON.stringify(store))\n    }\n\n\n\n    componentWillUpdate(nextProps) {\n        // if (this.props.store.hashUrl.oldUrl == nextProps.store.hashUrl.currentUrl) {\n        //     this.props.dispatch(setTransition({ transition: 'left' }))\n        // }\n    }\n\n    render() {\n        return (\n            <Router path={`${prefix}/`} history={history}>\n                <Route render={({ location }) => (\n                    <div style={{ position: 'relative', height: getSize().windowH, width: '100%', overflow: this.state.overflow || 'visible' }}>\n                        <TransitionGroup>\n                            <CSSTransition key={location.pathname} timeout={500} classNames={this.props.store.hashUrl.transition} >\n\n                                <Switch location={location} key={location.pathname}>\n                                    <Route exact path='/' render={() => <Redirect to='/home' />} />\n                                    <Route path='/home' render={() => <HomePage />} />\n                                    <Route path='/topic/:id' render={() => <Article />} />\n                                    <Route path='/message' render={() => <Message />} />\n                                    <Route path='/login' render={() => <Login />} />\n                                    <Route path='/profile' render={() => <Profile />} />\n                                    <Route path='/publishTopic' render={() => <PublishTopic />} />\n                                </Switch>\n\n                            </CSSTransition>\n                        </TransitionGroup>\n                    </div>\n                )} />\n            </Router>\n        )\n    }\n\n\n    componentDidMount() {\n        window.addEventListener('beforeunload', this.saveState)\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('beforeunload', this.saveState)\n        window.removeEventListener('hashchange', () => { })\n    }\n\n\n}\n\n\n\n// const Routes = ({ props }) => (\n//     <Router path={`${prefix}/`} history={history}>\n//         <Route render={({ location }) => (\n//             <Switch>\n//                 <Route exact path='/' render={() => <HomePage />} />\n//                 <Route path='/topic/:id' render={() => <Article />} />\n//                 <Route path='/message' render={() => <Message />} />\n//                 <Route path='/login' render={() => <Login />} />\n//                 <Route path='/profile' render={() => <Profile />} />\n//                 <Route path='/publishTopic' render={() => <PublishTopic />} />\n//             </Switch>\n//         )} />\n//     </Router>\n// )\n\n// const Routes = <div>bbbbbbbb</div>\nexport default Routes\n\n\n// WEBPACK FOOTER //\n// ./Routes.js","import React, { Component, PropTypes } from 'react'\nimport { connect } from 'react-redux'\nimport {fetchAccess,fetchMessage,fetchProfile} from '../actions'\nimport Header from '../components/common/Header/Header'\nimport Content from '../components/Article/Content/Content'\nimport Reply from '../components/Article/Reply/Reply'\nimport getSize from '../utils/getSize'\n\n\nclass App extends Component {\n  componentWillMount(){\n    // console.log('componentWillMount')\n    const {dispatch} = this.props;\n    const LoadingAction = (accessToken,loginName) => {\n      dispatch(fetchAccess(accessToken))\n      dispatch(fetchMessage(accessToken))\n      dispatch(fetchProfile(loginName))\n    }\n    if(window.localStorage.getItem('masterInfo')){\n      let masterInfo = window.localStorage.getItem('masterInfo')\n      masterInfo = JSON.parse(masterInfo)\n      const accessToken = masterInfo.accessToken\n      const loginName = masterInfo.loginName\n      LoadingAction(accessToken,loginName)\n    }else{\n      const accessToken = '1cbc2a58-6c1b-426f-971d-070676fb849d'\n      const loginName = 'lumia2046'\n      LoadingAction(accessToken,loginName)\n    }\n  }\n  componentWillReceiveProps(newProps){\n    // console.log(newProps)\n  }\n  componentWillUnmount(){\n    // console.log('componentWillUnmount')\n  }\n\n  render() {\n      return (\n          <div>{this.props.children}</div>\n      )\n  }\n}\n\nApp.propTypes = {\n  // currentTopicId: PropTypes.string.isRequired,\n  // article: PropTypes.object.isRequired,\n  // isFetching: PropTypes.bool.isRequired,\n  // dispatch: PropTypes.func.isRequired\n}\n\nfunction mapStateToProps(state) {\n  const {login,profile} = state\n  return {login,profile}\n}\n\n\nexport default connect(mapStateToProps)(App)\n\n\n// WEBPACK FOOTER //\n// ./containers/App.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"header\":\"components-common-Header-styles-header-KVlF1\",\"title\":\"components-common-Header-styles-title-2JhZH\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/common/Header/styles.scss\n// module id = 603\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"head\":\"components-Article-Content-styles-head-2PvuJ\",\"imgbox\":\"components-Article-Content-styles-imgbox-pCP1W\",\"info\":\"components-Article-Content-styles-info-1mUO9\",\"title\":\"components-Article-Content-styles-title-2xk8o\",\"main\":\"components-Article-Content-styles-main-25kdq\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Article/Content/styles.scss\n// module id = 697\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"linkToLogin\":\"components-common-LinkToLogin-styles-linkToLogin-35ulQ\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/common/LinkToLogin/styles.scss\n// module id = 698\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"reply\":\"components-Article-Reply-styles-reply-3YcCh\",\"author\":\"components-Article-Reply-styles-author-1X8xp\",\"main\":\"components-Article-Reply-styles-main-1ENPS\",\"item\":\"components-Article-Reply-styles-item-3oq-F\",\"form\":\"components-Article-Reply-styles-form-36sHc\",\"textarea\":\"components-Article-Reply-styles-textarea-3idHq\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Article/Reply/styles.scss\n// module id = 716\n// module chunks = 0","import React, { Component, PropTypes } from 'react'\nimport { connect } from 'react-redux'\nimport { selectTab, fetchTopics, recordScrollT, fetchArticle, fetchAccess, fetchMessage } from '../actions'\nimport Header from '../components/HomePage/Header/Header'\nimport FloatingActionButton from '../components/HomePage/FloatingActionButton'\nimport CircleLoading from '../components/common/CircleLoading'\nimport Drawer from '../components/HomePage/Drawer/Drawer'\nimport Lists from '../components/HomePage/Lists/Lists'\nimport Snackbar from '../components/common/Snackbar'\nimport getSize from '../utils/getSize'\nimport { setTransition } from '../actions/hashUrl'\nimport Pull from '../components/common/react-pullrefresh'\n\nclass HomePage extends Component {\n  constructor() {\n    super()\n    this.state = {\n      fadeIn: true,\n      openDrawer: false,\n      openSnackbar: false,\n      isFreshing: false,\n      fixedTop: 0,\n      scrollT: 0\n    }\n  }\n\n  onRefresh = (next) => {\n    if (!this.state.isFreshing) {\n      this.setState({\n        isFreshing: true\n      })\n      this.fresh()\n      setTimeout(_ => {\n        next()\n        this.openSnackbar()\n        this.setState({\n          isFreshing: false\n        })\n      }, 3000)\n    }\n  }\n  fresh = () => {\n    const { selectedTab, login, dispatch } = this.props;\n    dispatch(fetchTopics(selectedTab, 1));\n    dispatch(fetchMessage(login.accessToken))\n  }\n  openSnackbar = () => {\n    this.setState({\n      openSnackbar: true\n    })\n    setTimeout(() => {\n      this.setState({\n        openSnackbar: false\n      })\n    }, 2500)\n  }\n  handleClick = (tab) => {\n    let { scrollT } = getSize()\n    const { selectedTab, dispatch, tabData } = this.props;\n    dispatch(recordScrollT(selectedTab, scrollT))\n    dispatch(selectTab(tab))\n\n    const ua = navigator.userAgent;\n    if (!tabData[tab] && ua.indexOf('Mobile') === -1) {\n      if (scrollT >= 64) {\n        dispatch(recordScrollT(tab, 64))\n        this.setState({\n          scrollT: 64\n        })\n      } else {\n        dispatch(recordScrollT(tab, scrollT))\n        this.setState({\n          scrollT: scrollT\n        })\n      }\n    }\n\n    // 在事件的回调函数中的action，是将action都发送并改变state完毕，再更新state\n    // 也就是说事件回调函数中发送多个不带异步的action,只在最后一个action更新完state进行一次状态更新\n    // 要想每次action更新state后，都更新一次状态(方便在更新时做一些操作)，就要把action封装成异步操作\n    // 但是在react生命周期里的一个函数里发送多个action,每个action更新state都会对相应组件进行一次状态更新，不需要封装成异步操作\n    // let asyncDispatch = async function(){\n    //   await dispatch(recordScrollT(selectedTab,scrollT))\n    //   await dispatch(selectTab(tab))\n    // }\n    // asyncDispatch()\n  }\n  loadMore = () => {\n    const { selectedTab, page, isFetching, dispatch } = this.props;\n    let ipage = page\n    if (!isFetching) {\n      dispatch(fetchTopics(selectedTab, ++ipage));\n    }\n  }\n  toggleDrawer = () => {\n    this.props.dispatch(setTransition({ transition: 'none' }))\n    this.setState({\n      openDrawer: !this.state.openDrawer\n    })\n  }\n\n  componentWillMount() {\n    // console.log(this.props)\n  }\n  componentWillReceiveProps(newProps) {\n    // console.log('componentWillReceiveProps',getSize().scrollT)\n    const { topics, isFetching, selectedTab, scrollT, dispatch } = newProps;\n    // 去除刷新时记住的滚动条位置\n    if (topics.length === 0 && this.props.scrollT === 0) {\n      window.scrollTo(0, 0)\n    }\n    // fetchTopics开始后会先发送一个request的action,这个ation也会改变state从而触发该方法。如果不对isFetching进行判断，会再次进行fetchTopics从而进行了不必要的重复数据请求\n    if (!isFetching && topics.length === 0) {\n      dispatch(fetchTopics(selectedTab));\n    }\n    if (selectedTab !== this.props.selectedTab) {\n      if (scrollT) {\n        window.scrollTo(0, scrollT)\n      }\n    }\n  }\n  // componentWillUpdate(newProps,newState){\n  //   console.log('componentWillUpdate',getSize().scrollT,newState)\n  // }\n  tabs = [\n    {\n      title: '全部',\n      filter: 'all',\n    },\n    {\n      title: '精华',\n      filter: 'good',\n    },\n    {\n      title: '分享',\n      filter: 'share',\n    },\n    {\n      title: '问答',\n      filter: 'ask',\n    },\n    {\n      title: '招聘',\n      filter: 'job',\n    }\n  ]\n\n  render() {\n    const { selectedTab, isFetching, page, topics, dispatch, article, currentRouter, login, profile, unreadMessageCount, tabData } = this.props;\n    return (\n      <div style={{width:'100%',overflowX:'hidden'}}>\n        <Header filter={selectedTab} onClick={this.handleClick} toggleDrawer={this.toggleDrawer}\n          fixedTop={this.state.fixedTop} unreadMessageCount={unreadMessageCount} tabs={this.tabs}>\n          {this.tabs.map((tab, index) =>\n            <div key={index}>\n              {((isFetching && page === 0) || (tab.filter !== selectedTab && !tabData[tab.filter])) && <CircleLoading />}\n              {tab.filter === selectedTab && <div style={{ opacity: (!isFetching || page >= 1) ? 1 : 0 }}>\n                <Lists topics={topics} fetchArticle={fetchArticle} dispatch={dispatch} article={article} isFetching={isFetching} />\n              </div>}\n            </div>\n          )}\n        </Header>\n        {!isFetching && <FloatingActionButton />}\n        <Drawer toggleDrawer={this.toggleDrawer} openDrawer={this.state.openDrawer}\n          {...({ login, dispatch, profile }) } />\n        <Snackbar isOpened={this.state.openSnackbar} message='刷新成功' />\n      </div>\n    )\n  }\n\n  componentDidMount() {\n    const { selectedTab, page, scrollT, dispatch } = this.props;\n    if (page === 0) {\n      dispatch(fetchTopics(selectedTab));\n    }\n    if (scrollT) {\n      window.scrollTo(0, scrollT);\n    }\n    let lastScrollY = this.lastScrollY\n    // window.onmousedown = () => {\n    //   console.log('a')\n    //   let {windowH,contentH,scrollT} = getSize()\n    // }\n    // window.onload = () => {\n    // \twindow.scrollTo(0,0)\n    // }\n    window.onscroll = () => {\n      let { windowH, contentH, scrollT } = getSize()\n      if (windowH + scrollT + 100 > contentH) {\n        this.loadMore()\n      }\n\n\n      // 由于下面的操作比较费cpu,所以进行判断是否为手机端\n      const ua = navigator.userAgent;\n      if (ua.indexOf('Mobile') === -1) {\n        if (!lastScrollY || !scrollT) {\n          lastScrollY = scrollT\n        }\n        let diff = scrollT - lastScrollY\n        if (diff >= 0) {\n          if (scrollT > 64 && this.state.fixedTop !== 64) {\n            this.setState({\n              fixedTop: 64\n            })\n          }\n          if (scrollT <= 64) {\n            this.setState({\n              fixedTop: scrollT\n            })\n          }\n        } else {\n          this.setState({\n            scrollT: 0\n          })\n          if (scrollT > 64 && this.state.fixedTop !== 0) {\n            this.setState({\n              fixedTop: 0\n            })\n          }\n        }\n        lastScrollY = scrollT\n      }\n    }\n    // console.log('componentDidMount',getSize().scrollT)\n  }\n\n  componentDidUpdate() {\n    let { windowH, contentH, scrollT } = getSize();\n    const { topics } = this.props\n    // console.log(scrollT)\n    // 第一次切换到没有加载数据的tab时，在willReceiveProp中已经将页面滚动了一定距离，在render中打印scrollT也不为0\n    // 但是一进入这个函数scrollT就变为0,而且也未触发onscroll事件（问题待解决），所以目前只能去重新判断这种情况\n    if (scrollT === 0 && this.state.scrollT > 0) {\n      // window.scrollTo(0, this.state.scrollT)\n    }\n\n    // 判断内容加载后，内容的高度是否填满屏幕，若网页太高，加载一次内容的高度不能填满整个网页，则继续请求数据\n    if (topics.length > 0 && windowH + 200 > contentH) {\n      // this.loadMore()\n    }\n    // console.log('componentDidUpdate',getSize().scrollT)\n  }\n  componentWillUnmount() {\n    let { scrollT } = getSize()\n    const { selectedTab, dispatch } = this.props;\n    dispatch(recordScrollT(selectedTab, scrollT));\n    // 必须解绑事件，否则当组件再次被加载时，该事件会监听两个组件\n    window.onscroll = null;\n  }\n}\n\n\n\n\nfunction mapStateToProps(state) {\n  const { homePage, article, login, profile, message } = state;\n  const { selectedTab, tabData } = homePage;\n  const unreadMessageCount = message.hasNotReadMessage.length\n  // 当组件第一次render时,还未进行任何action,初始化的state里没有tabData[selectedTab]，所以这里需要初始化\n  const { isFetching, page, scrollT, topics } = tabData[selectedTab] || { isFetching: false, page: 0, scrollT: 0, topics: [] }\n  return { isFetching, page, scrollT, topics, selectedTab, article, login, profile, tabData, unreadMessageCount }\n}\n\n// 用connect方法连接HomePage组件，实际上是在HomePage组件上加上了Connect(HomePage)这个父组件，HomePage里有关Connect的state变化的props就是通过mapStateToProps设置的\n// connect方法的第二个参数如果不传的话就会默认将store.dispatch默认作为了dispatch参数传进HomePage的props，所以HomePage的props里就有一个dispatch\nexport default connect(mapStateToProps)(HomePage)\n\n\n// WEBPACK FOOTER //\n// ./containers/HomePage.js","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport styles from './styles.scss'\nimport { setTransition } from '../../../actions/hashUrl'\nimport { Link } from 'react-router-dom'\nimport prefix from '../../../utils/routePrefix'\nimport { Tabs, Tab } from 'material-ui/Tabs'\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider'\nimport AppBar from 'material-ui/AppBar'\nimport Badge from 'material-ui/Badge'\nimport NotificationsIcon from 'material-ui/svg-icons/social/notifications'\nimport IconButton from 'material-ui/IconButton'\nimport SwipeableViews from 'react-swipeable-views'\nimport getSize from '../../../utils/getSize'\n\n@connect()\nclass Header extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      slideIndex: 0\n    }\n\n  }\n  componentWillMount() {\n    const { tabs, filter } = this.props;\n    let slideIndex;\n    tabs.forEach((tab, index) => {\n      if (tab.filter === filter) {\n        slideIndex = index;\n      }\n    })\n    this.setState({\n      slideIndex: slideIndex\n    })\n  }\n  handleChange = (value) => {\n    this.setState({\n      slideIndex: value,\n    });\n    this.props.onClick(this.props.tabs[value].filter)\n  };\n\n  render() {\n    // this.props.tabs.forEach(tab => {\n    //     tab.cn = classnames({[styles.active] : tab.filter === this.props.filter})\n    // })\n    return (\n      <MuiThemeProvider>\n        <div>\n          <div className={styles.header} style={{ top: -this.props.fixedTop, width: window.width||'100%' }}>\n            <AppBar title={<p style={{ textAlign: 'center' }}>NodeJS论坛</p>} onLeftIconButtonClick={this.props.toggleDrawer}\n              iconElementRight={<div style={{ marginTop: -8 }}>\n                <Badge badgeContent={this.props.unreadMessageCount} secondary={true} style={{ top: 3 }}>\n                  <Link to={`${prefix}/message`} onClick={() => this.props.dispatch(setTransition({ transition: 'move' }))}>\n                    <IconButton tooltip=\"未读消息\" style={{ padding: 0, width: 25, height: 25 }}>\n                      <div>\n                        <NotificationsIcon style={{ color: 'white' }} />\n                      </div>\n                    </IconButton>\n                  </Link>\n                </Badge>\n              </div>} />\n            <Tabs onChange={this.handleChange} value={this.state.slideIndex}>\n              {this.props.tabs.map((tab, i) =>\n                <Tab key={i} label={tab.title} value={i}>\n                </Tab>\n              )}\n            </Tabs>\n          </div>\n          <SwipeableViews index={this.state.slideIndex} onChangeIndex={this.handleChange}>\n            {this.props.children}\n          </SwipeableViews>\n        </div>\n      </MuiThemeProvider>\n    )\n  }\n}\n// Header.propTypes = {\n//   filter: PropTypes.string.isRequired,\n//   onClick: PropTypes.func.isRequired\n// }\n\nexport default Header\n\n\n// WEBPACK FOOTER //\n// ./components/HomePage/Header/Header.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"header\":\"components-HomePage-Header-styles-header-2efCu\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/HomePage/Header/styles.scss\n// module id = 729\n// module chunks = 0","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setTransition } from '../../actions/hashUrl'\nimport FloatingActionButton from 'material-ui/FloatingActionButton'\nimport ContentAdd from 'material-ui/svg-icons/content/add'\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider'\nimport { Link } from 'react-router-dom'\nimport prefix from '../../utils/routePrefix'\n\nconst style = {\n  position: 'fixed',\n  bottom: 50,\n  right: 50\n};\n\n@connect()\nclass FloatActionButton extends React.Component {\n  render() {\n    return (\n      <Link to={`${prefix}/publishTopic`} onClick={() => this.props.dispatch(setTransition({ transition: 'up' }))}>\n        <MuiThemeProvider>\n          <FloatingActionButton style={style} secondary={true}\n            onMouseEnter={() => this.props.dispatch(setTransition({ transition: 'none' }))}\n            onTouchStart={() => {\n              this.props.dispatch(setTransition({ transition: 'none' }))\n            }}>\n            <ContentAdd />\n          </FloatingActionButton>\n        </MuiThemeProvider>\n      </Link>\n    )\n  }\n\n}\n\n\nexport default FloatActionButton;\n\n\n// WEBPACK FOOTER //\n// ./components/HomePage/FloatingActionButton.js","import React from 'react';\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport prefix from '../../../utils/routePrefix'\nimport Drawer from 'material-ui/Drawer'\nimport MenuItem from 'material-ui/MenuItem'\nimport RaisedButton from 'material-ui/RaisedButton'\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider'\nimport Divider from 'material-ui/Divider'\nimport Avatar from 'material-ui/Avatar'\nimport { logout, fetchProfile } from '../../../actions'\nimport { setTransition } from '../../../actions/hashUrl'\nimport styles from './styles.scss'\nimport getSize from '../../../utils/getSize'\nimport transformDate from '../../../utils/transformDate'\nimport Dialog from '../../common/Dialog'\n\n@connect()\nexport default class myDrawer extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      isOpen: false\n    }\n  }\n\n  excuteLogout = () => {\n    const { dispatch } = this.props\n    window.localStorage.removeItem('masterInfo')\n    window.sessionStorage.removeItem('masterProfile')\n    dispatch(logout())\n  }\n\n  close = () => {\n    this.setState({\n      isOpen: false\n    })\n  }\n\n  componentWillUpdate(nextProps) {\n\n  }\n\n  render() {\n    let { contentW } = getSize()\n    if (contentW > 800) {\n      contentW = 640\n    } else {\n      contentW = 0.8 * contentW\n    }\n    let { login, profile } = this.props\n    const { succeed } = login\n    if (login.loginName !== profile.loginname && window.sessionStorage.masterProfile) {\n      profile = JSON.parse(window.sessionStorage.masterProfile)\n    }\n    const { avatar_url, loginname, score, create_at } = profile\n    return (\n      <MuiThemeProvider>\n        <Drawer\n          docked={false}\n          width={contentW}\n          open={this.props.openDrawer}\n          onRequestChange={this.props.toggleDrawer}\n        >\n          {succeed && <div>\n            <div className={styles.header}>\n              <Link to={`${prefix}/login`} className={styles.link}>\n                <Avatar src={avatar_url} size={80} />\n                <p>{loginname}</p>\n              </Link>\n              <p>积分:{score}</p>\n              <p>注册于:{transformDate(create_at)}</p>\n              <RaisedButton label=\"注销登陆\" primary={true} onClick={() => {\n                this.setState({\n                  isOpen: true\n                })\n              }} />\n              <Dialog isOpen={this.state.isOpen} action={this.excuteLogout} close={this.close}>\n                确定要注销登陆？\n              </Dialog>\n            </div>\n            <MenuItem onTouchTap={this.props.toggleDrawer}>\n              <Link to={`${prefix}/login`} className={styles.link}>\n                <i className=\"iconfont\" dangerouslySetInnerHTML={{ __html: '&#xe60f;' }} style={{ color: '#00BCD4' }}></i>\n                <span style={{ color: '#00BCD4' }}> 个人主页</span>\n              </Link>\n            </MenuItem>\n            <Divider />\n            <MenuItem onTouchTap={this.props.toggleDrawer}>\n              <Link to={`${prefix}/message`} className={styles.link}>\n                <i className=\"iconfont\" dangerouslySetInnerHTML={{ __html: '&#xe617;' }} style={{ color: '#00BCD4' }}></i>\n                <span style={{ color: '#00BCD4' }}> 消息</span>\n              </Link>\n            </MenuItem>\n            <Divider />\n          </div>}\n          {!succeed && <div className={styles.header}>\n            <Link to={`${prefix}/login`} className={styles.link} onClick={() => this.props.dispatch(setTransition({ transition: 'up' }))}>\n              <Avatar backgroundColor={'rgb(0,188,212)'} size={80}>\n                <i className=\"iconfont\" dangerouslySetInnerHTML={{ __html: '&#xe60f;' }}></i>\n              </Avatar>\n            </Link>\n            <p>点击头像登陆</p>\n          </div>}\n        </Drawer>\n      </MuiThemeProvider>\n    );\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./components/HomePage/Drawer/Drawer.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"header\":\"components-HomePage-Drawer-styles-header-1ss7F\",\"link\":\"components-HomePage-Drawer-styles-link-1VIhX\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/HomePage/Drawer/styles.scss\n// module id = 758\n// module chunks = 0","import React from 'react'\nimport FlipMove from 'react-flip-move'\nimport transformDate from '../../../utils/transformDate'\nimport styles from './styles.scss'\nimport { setTransition } from '../../../actions/hashUrl'\nimport { Link } from 'react-router-dom'\nimport prefix from '../../../utils/routePrefix'\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider'\nimport { List, ListItem } from 'material-ui/List'\nimport Divider from 'material-ui/Divider'\nimport Avatar from 'material-ui/Avatar'\n\nconst Lists = props => {\n\tconst tabChn = { all: '全部', good: '精华', share: '分享', ask: '问答', job: '招聘' }\n\tconst { topics, fetchArticle, dispatch, article, isFetching } = props;\n\tlet disableAllAnimations = topics.length === 20 ? false : true\n\t// disableAllAnimations从启用到禁用时enterAnimation设定的动画会不起作用，原因不明。\n\tlet enterAnimation = {\n\t\tfrom: { transform: 'translateY(-80px)', opacity: 0 },\n\t\tto: { transform: 'translateY(0)', opacity: 1 }\n\t}\n\treturn (\n\t\t<div style={{ position: 'relative' }}>\n\t\t\t<div className={styles.lists}>\n\t\t\t\t<MuiThemeProvider>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t<FlipMove disableAllAnimations={disableAllAnimations} enterAnimation={enterAnimation}\n\t\t\t\t\t\t\teasing='ease-out' duration='400' staggerDelayBy='40' staggerDurationBy='4'>\n\t\t\t\t\t\t\t{topics.map((topic, i) =>\n\t\t\t\t\t\t\t\t<Link key={i} to={`${prefix}/topic/${topic.id}`} className={styles.link} onClick={() => {\n\t\t\t\t\t\t\t\t\tdispatch(setTransition({ transition: 'move' }))\n\t\t\t\t\t\t\t\t\tif (!article[topic.id]) {\n\t\t\t\t\t\t\t\t\t\tdispatch(fetchArticle(topic.id))\n\t\t\t\t\t\t\t\t\t} else if (article.currentTopicId !== topic.id) {\n\t\t\t\t\t\t\t\t\t\tdispatch(fetchArticle(topic.id, false))\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\t\t\tleftAvatar={<Avatar src={topic.author.avatar_url} />}\n\t\t\t\t\t\t\t\t\t\tprimaryText={\n\t\t\t\t\t\t\t\t\t\t\t<div className={styles.text}>\n\t\t\t\t\t\t\t\t\t\t\t\t{topic.top && <span style={{ color: 'blue' }}>顶</span>}\n\t\t\t\t\t\t\t\t\t\t\t\t{topic.good && <span style={{ color: 'red' }}>精</span>}\n\t\t\t\t\t\t\t\t\t\t\t\t<span className={styles.title}>{topic.title}</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tsecondaryText={\n\t\t\t\t\t\t\t\t\t\t\t<div className={styles.text}>\n\t\t\t\t\t\t\t\t\t\t\t\t<span>{topic.reply_count + '/' + topic.visit_count}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span>{tabChn[topic.tab]}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ float: 'right' }}>{transformDate(topic.create_at)}</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Divider inset={true} />\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</FlipMove>\n\t\t\t\t\t</List>\n\t\t\t\t</MuiThemeProvider>\n\t\t\t\t<div className={styles.spinner}>\n\t\t\t\t\t<div className={styles.bounce1}></div>\n\t\t\t\t\t<div className={styles.bounce2}></div>\n\t\t\t\t\t<div className={styles.bounce3}></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\n// Lists.propTypes = {\n//   topics: PropTypes.array.isRequired,\n//   fetchArticle: PropTypes.func.isRequired\n// }\n\nexport default Lists\n\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/HomePage/Lists/Lists.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"lists\":\"components-HomePage-Lists-styles-lists-yUW71\",\"li\":\"components-HomePage-Lists-styles-li-3vpS1\",\"link\":\"components-HomePage-Lists-styles-link-2bOde\",\"text\":\"components-HomePage-Lists-styles-text-1W55W\",\"title\":\"components-HomePage-Lists-styles-title-2KCD2\",\"spinner\":\"components-HomePage-Lists-styles-spinner-1fpsP\",\"bouncedelay\":\"components-HomePage-Lists-styles-bouncedelay-1_G2W\",\"bounce1\":\"components-HomePage-Lists-styles-bounce1-Bue9V\",\"bounce2\":\"components-HomePage-Lists-styles-bounce2-2mBBc\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/HomePage/Lists/styles.scss\n// module id = 761\n// module chunks = 0","import React from 'react';\nimport Snackbar from 'material-ui/Snackbar';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\n\nconst SnackbarExample = (props) => {\n\n    return (\n      <MuiThemeProvider>\n        <Snackbar\n          open={props.isOpened}\n          message={props.message}\n          autoHideDuration={3000}\n          style={{textAlign:'center'}}\n        />\n      </MuiThemeProvider>\n    );\n}\n\nexport default SnackbarExample\n\n\n// WEBPACK FOOTER //\n// ./components/common/Snackbar.js","import React, { Component } from 'react'\nimport RefreshIndicator from 'material-ui/RefreshIndicator';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\n// import './rotate.less'\n// import image from './pull.svg'\n\nconst MAX_DEFAULT = 100\n\nclass Pull extends Component {\n  static defaultProps = {\n    max: MAX_DEFAULT\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      pulled:0\n    }\n  }\n\n  componentDidMount() {\n    this.pullhelper = require('pullhelper')\n\n    let { disabled,onRefresh,max } = this.props\n    let maxPull = max || MAX_DEFAULT\n    let that= this\n\n    this.pullhelper\n    .on('start',function(pulled) {\n      that.setState({\n        pulling:true\n      })\n    })\n    .on('stepback',function(pulled,next) {\n      that.setState({\n        pulled:pulled\n      })\n      let nextPulled = Math.min(pulled - Math.min(pulled/2,10),max)\n      next(nextPulled)\n    })\n    .on('step',function(pulled) {\n      that.setState({\n        pulled:pulled\n      })\n    })\n    .on('pull',function(pulled,next) {\n      that.setState({\n        pulling:false\n      })\n      if(!onRefresh || pulled < maxPull) {\n        next()\n        return\n      }\n      that.setState({\n        loading:true\n      })\n      onRefresh(_ => {\n        that.setState({\n          loading:false\n        })\n        next()\n      })\n    })\n    .load()\n    if(disabled) {\n      this.pullhelper.pause()\n    }\n  }\n  componentWillReceiveProps(nextProps) {\n    let { disabled } = this.props\n    if(disabled !== nextProps.disabled) {\n      if(nextProps.disabled) {\n        this.pullhelper.pause()\n      } else {\n        this.pullhelper.resume()\n      }\n    }\n  }\n  componentWillUnmount() {\n    this.pullhelper.unload()\n  }\n  render() {\n    let { pulling,loading,pulled } = this.state\n    let maxPull = this.props.max || MAX_DEFAULT\n    let size = this.props.size || 30\n    let color = this.props.color || '#00BCD4'\n    let style = this.props.style || {}\n    return (\n      <div>\n        <div style={{\n          display:pulling ? 'block' : 'none',\n          position:'fixed',\n          top:0,\n          left:0,\n          right:0,\n          bottom:0,\n          zIndex:this.props.zIndex,\n          userSelect:'none'\n        }} />\n        <div style={Object.assign({\n          background:'white',\n          width: size,\n          height: size,\n          position:'fixed',\n          zIndex:this.props.zIndex,\n          top:-size+Math.min(pulled,maxPull),\n          left:'50%',\n          borderRadius:size/2,\n          transform:'translate(-50%,-50%)',\n          boxShadow:'0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2)',\n          userSelect:'none'\n        },style)}>\n          <MuiThemeProvider>\n            <RefreshIndicator\n                  percentage={80}\n                  size={size}\n                  left={0}\n                  top={0}\n                  color={color}\n                  loadingColor={color}\n                  status= {pulled/maxPull > 0.9999 ? 'loading':'ready'}\n                  style={{display:'inline-block',\n                          position:'relative',\n                          opacity:pulled/maxPull}}\n                />\n          </MuiThemeProvider>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Pull;\n\n\n\n\n\n\n// <i style={{\n//   display:'block',\n//   width:'100%',\n//   height:'100%',\n//   lineHeight:`${size}px`,\n//   fontSize:`${size*0.6}px`,\n//   color: color,\n//   opacity:pulled/maxPull,\n//   textAlign:'center',\n//   transform:`rotate(${pulled/maxPull*360}deg)`,\n//   animation:'rotating 2s linear infinite'\n// }} className=\"iconfont\" dangerouslySetInnerHTML={{__html: '&#xe603;'}}> \n// </i>\n\n\n// WEBPACK FOOTER //\n// ./components/common/react-pullrefresh.js","import React, { Component, PropTypes } from 'react'\nimport { connect } from 'react-redux'\nimport {switchSupport,fetchComment,fetchArticle,recordArticleScrollT,fetchProfile} from '../actions'\nimport Header from '../components/common/Header/Header'\nimport CircleLoading from '../components/common/CircleLoading'\nimport Content from '../components/Article/Content/Content'\nimport Reply from '../components/Article/Reply/Reply'\nimport getSize from '../utils/getSize'\n\n\nclass Article extends Component {\n  constructor(){\n  \tsuper();\n  \tthis.state = {\n  \t\tfadeIn:true\n  \t}\n  }\n  componentWillMount(){\n    const {scrollT,dispatch,article,isFetching} = this.props\n    if(scrollT){\n      window.scrollTo(0,scrollT)\n    }\n    if(!article.author && !isFetching){\n      const topicId = window.location.href.split('topic/')[1].split('?_')[0]\n      dispatch(fetchArticle(topicId))\n    } \n  }\n\n  componentWillReceiveProps(newProps){\n    const {scrollT} = newProps;\n    window.scrollTo(0,scrollT)\n  }\n\n  componentWillUnmount(){\n  \tthis.setState({\n  \t\tfadeIn:false\n  \t})\n    let {scrollT} = getSize()\n    const {currentTopicId,dispatch,profile,login} = this.props;\n    dispatch(recordArticleScrollT(currentTopicId,scrollT));\n    if(!window.sessionStorage.masterProfile && login.loginName === profile.loginname){\n      window.sessionStorage.masterProfile = JSON.stringify(profile)\n    }\n  }\n\n  render(){\n    let {isFetching,article,currentTopicId,login,switchSupportInfo,isCommented,dispatch,collectedTopics,profile} = this.props;\n    if(login.loginName !== profile.loginname && window.sessionStorage.masterProfile){\n      collectedTopics = JSON.parse(window.sessionStorage.masterProfile).collectedTopics\n    }\n    return (\n      <div className={this.state.fadeIn?'fade-in':''}>\n          <div>\n                <Header isFetching={isFetching} title='详情' showBack={true}/>\n                {Object.keys(article).length===0  && <CircleLoading />}\n                {Object.keys(article).length!==0 && \n                  <div>\n                    <Content {...({article,dispatch,fetchProfile,login,collectedTopics,profile})}/>\n                    <Reply replies={article.replies} \n                    {...({login,dispatch,switchSupportInfo,currentTopicId,profile,isCommented})}/>\n                  </div>\n                }\n          </div>\n      </div>\n  )\n  }\n}\n\nArticle.propTypes = {\n  // currentTopicId: PropTypes.string.isRequired,\n  // article: PropTypes.object.isRequired,\n  // isFetching: PropTypes.bool.isRequired,\n  // dispatch: PropTypes.func.isRequired\n}\n\nfunction mapStateToProps(state) {\n  const {currentRouter,login,profile} = state;\n  const {currentTopicId,switchSupportInfo,isCommented} = state.article ;\n  const {collectedTopics} = profile\n  const isFetching = state.article[currentTopicId] ? state.article[currentTopicId].isFetching : false;\n  const scrollT = state.article[currentTopicId]? state.article[currentTopicId].scrollT : '0';\n  const article = state.article[currentTopicId] && state.article[currentTopicId].article ? state.article[currentTopicId].article : {};\n  return {isFetching,scrollT,article,currentTopicId,login,switchSupportInfo,currentRouter,collectedTopics,profile,isCommented}\n}\n\n\nexport default connect(mapStateToProps)(Article)\n\n\n// WEBPACK FOOTER //\n// ./containers/Article.js","import React, { Component, PropTypes } from 'react'\nimport { connect } from 'react-redux'\nimport {fetchMessage,fetchArticle} from '../actions'\nimport Content from '../components/Message/Content/Content'\nimport LinkToLogin from '../components/common/LinkToLogin/LinkToLogin'\nimport Header from '../components/common/Header/Header'\nimport getSize from '../utils/getSize'\n\n\nclass Message extends Component {\n\n  componentDidMount(){\n    const {login,dispatch,message} = this.props\n    if(login.accessToken && message.hasReadMessage.length === 0){\n      dispatch(fetchMessage(login.accessToken))\n    }\n  }\n  render(){\n    const {dispatch,currentRouter,message,article,login} = this.props;\n    return (\n      <div>\n            <div>\n              <Header  title='详情'/>\n              <div style={{paddingTop:64}}>\n                {login.succeed && <Content {...message} {...({dispatch,fetchArticle,article,login})}/>}\n                {!login.succeed && <LinkToLogin dispatch={dispatch}/>}\n              </div>\n            </div>\n      </div>\n  )\n  }\n}\n\n\n\nfunction mapStateToProps(state) {\n  const {login,message,article} = state;\n  return {login,message,article}\n}\n\nexport default connect(mapStateToProps)(Message)\n\n\n// WEBPACK FOOTER //\n// ./containers/Message.js","import React, { PropTypes, Component } from 'react'\nimport { connect } from 'react-redux'\nimport transformDate from '../../../utils/transformDate'\nimport styles from './styles.scss'\nimport classnames from 'classnames'\nimport { Link } from 'react-router-dom'\nimport { setTransition } from '../../../actions/hashUrl'\nimport prefix from '../../../utils/routePrefix'\nimport { Tabs, Tab } from 'material-ui/Tabs';\nimport SwipeableViews from 'react-swipeable-views';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport { List, ListItem } from 'material-ui/List';\nimport Divider from 'material-ui/Divider';\nimport Avatar from 'material-ui/Avatar';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport Dialog from '../../common/Dialog'\nimport CircleLoading from '../../common/CircleLoading'\nimport { markAllMessages, fetchMessage } from '../../../actions'\n\n@connect()\nclass Content extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tslideIndex: 0,\n\t\t\tisOpen: false,\n\t\t\tisUpdating: false\n\t\t}\n\t}\n\n\thandleChange = (value) => {\n\t\tthis.setState({\n\t\t\tslideIndex: value,\n\t\t});\n\t};\n\tmarkMessages = () => {\n\t\tlet { dispatch, login } = this.props\n\t\tlet accessToken = login.accessToken\n\t\tdispatch(markAllMessages(accessToken))\n\t\tthis.setState({\n\t\t\tisUpdating: true\n\t\t})\n\t}\n\tclose = () => {\n\t\tthis.setState({\n\t\t\tisOpen: false\n\t\t})\n\t}\n\tcomponentWillUpdate(newProps) {\n\t\tlet { dispatch, login, isMarked, hasNotReadMessage } = newProps\n\t\tlet accessToken = login.accessToken\n\t\tif (isMarked && isMarked !== this.props.isMarked) {\n\t\t\tdispatch(fetchMessage(accessToken))\n\t\t}\n\t\tif (isMarked && hasNotReadMessage.length === 0 &&\n\t\t\thasNotReadMessage.length !== this.props.hasNotReadMessage.length) {\n\t\t\tthis.setState({\n\t\t\t\tisUpdating: false\n\t\t\t})\n\t\t}\n\t}\n\trender() {\n\t\tconst { dispatch, hasNotReadMessage, hasReadMessage, article, fetchArticle } = this.props\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.state.isUpdating && <div><CircleLoading /></div>}\n\t\t\t\t{!this.state.isUpdating && <MuiThemeProvider>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Tabs onChange={this.handleChange} value={this.state.slideIndex}>\n\t\t\t\t\t\t\t<Tab label={<h2>未读消息:{hasNotReadMessage && hasNotReadMessage.length}</h2>} value={0} />\n\t\t\t\t\t\t\t<Tab label={<h2>已读消息:{hasReadMessage && hasReadMessage.length}</h2>} value={1} />\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t<SwipeableViews index={this.state.slideIndex} onChangeIndex={this.handleChange}>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{hasNotReadMessage && hasNotReadMessage.length === 0 &&\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<div className={styles.msg}>暂无未读消息</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{hasNotReadMessage.length > 0 &&\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t\t\t\t{hasNotReadMessage.map((msg, index) =>\n\t\t\t\t\t\t\t\t\t\t\t\t<Link key={index} to={`${prefix}/topic/${msg.topic.id}`} className={styles.link} onClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tdispatch(setTransition({ transition: 'move' }))\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (!article[msg.topic.id]) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdispatch(fetchArticle(msg.topic.id))\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (article.currentTopicId !== topic.id) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdispatch(fetchArticle(msg.topic.id, false))\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tleftAvatar={<Avatar src={msg.author.avatar_url} />}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tprimaryText={msg.author.loginname}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsecondaryText={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className={styles.oneline} dangerouslySetInnerHTML={{ __html: msg.reply.content }}></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: '14px' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>来自:{msg.topic.title}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ float: 'right' }}>{transformDate(msg.reply.create_at)}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsecondaryTextLines={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Divider inset={true} />\n\t\t\t\t\t\t\t\t\t\t\t\t</Link>)}\n\t\t\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t\t\t\t<div style={{ textAlign: 'center' }}>\n\t\t\t\t\t\t\t\t\t\t\t<RaisedButton label=\"清空未读消息\" primary={true} onClick={e => {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\t\t\tisOpen: true\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<Dialog isOpen={this.state.isOpen} title='注意' action={this.markMessages} close={this.close}>\n\t\t\t\t\t\t\t\t\t\t\t是否将所有未读消息标记为已读？\n\t\t\t\t        \t</Dialog>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{hasReadMessage.length === 0 &&\n\t\t\t\t\t\t\t\t\t<div className={styles.msg}>您还没有查看过任何消息哦</div>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{hasReadMessage.length > 0 &&\n\t\t\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t\t\t{hasReadMessage.map((msg, index) =>\n\t\t\t\t\t\t\t\t\t\t\t<Link key={index} to={`${prefix}/topic/${msg.topic.id}`} className={styles.link} onClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tdispatch(setTransition({ transition: 'move' }))\n\t\t\t\t\t\t\t\t\t\t\t\tif (!article[msg.topic.id]) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tdispatch(fetchArticle(msg.topic.id))\n\t\t\t\t\t\t\t\t\t\t\t\t} else if (article.currentTopicId !== topic.id) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tdispatch(fetchArticle(msg.topic.id, false))\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tleftAvatar={<Avatar src={msg.author.avatar_url} />}\n\t\t\t\t\t\t\t\t\t\t\t\t\tprimaryText={msg.author.loginname}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsecondaryText={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className={styles.oneline} dangerouslySetInnerHTML={{ __html: msg.reply.content }}></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: '14px' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>来自:{msg.topic.title}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ float: 'right' }}>{transformDate(msg.reply.create_at)}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsecondaryTextLines={2}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<Divider inset={true} />\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</List>}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</SwipeableViews>\n\t\t\t\t\t</div>\n\t\t\t\t</MuiThemeProvider>}\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\nexport default Content\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/Message/Content/Content.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"content\":\"components-Message-Content-styles-content-1lvAg\",\"link\":\"components-Message-Content-styles-link-PuXBJ\",\"msg\":\"components-Message-Content-styles-msg-1VGaD\",\"oneline\":\"components-Message-Content-styles-oneline-V4J8p\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Message/Content/styles.scss\n// module id = 772\n// module chunks = 0","import React, { Component, PropTypes } from 'react'\nimport { connect } from 'react-redux'\nimport {fetchAccess,fetchMessage,logout,fetchArticle,fetchProfile} from '../actions'\nimport Header from '../components/common/Header/Header'\nimport Profile from '../components/common/Profile/Profile'\nimport getSize from '../utils/getSize'\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport CircularProgress from 'material-ui/CircularProgress';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport TextField from 'material-ui/TextField';\nimport Toggle from 'material-ui/Toggle';\n\nclass Login extends Component {\n  constructor(){\n    super();\n    this.state = {\n      toggleOn:true\n    }\n  }\n  componentWillReceiveProps(newProps){\n    let {succeed,loginName,accessToken,dispatch,profile} = newProps;\n    if(succeed && !profile.isFetching && profile.loginname !== loginName){\n      if(this.state.toggleOn && !window.localStorage.getItem('masterInfo')){\n        accessToken = accessToken.trim()\n        loginName = loginName.trim()\n        let masterInfo = {accessToken,loginName}\n        masterInfo = JSON.stringify(masterInfo)\n        window.localStorage.setItem('masterInfo',masterInfo)\n      }\n      dispatch(fetchProfile(loginName))\n      dispatch(fetchMessage(accessToken))\n    }\n  }\n  onToggle = () => {\n    this.setState({\n      toggleOn:!this.state.toggleOn\n    })\n  }\n  render(){\n    let {dispatch,article,profile,failedMessage,succeed,loginName,loginId,accessToken,collectedTopics} = this.props;\n    if(loginName !== profile.loginname && window.sessionStorage.masterProfile){\n      profile = JSON.parse(window.sessionStorage.masterProfile)\n      collectedTopics = profile.collectedTopics\n    }\n    const masterInfo = window.localStorage.getItem('masterInfo') ? true : false\n    return (\n      <div>\n        <Header isFetching={profile.loginname?false:true} title='个人中心' showBack={false}/>\n        <div style={{textAlign:'center',paddingTop:100}}>\n          {!masterInfo && !succeed && \n            <MuiThemeProvider>\n              <div>\n                <div>\n                  <TextField hintText=\"请输入Access Token\" floatingLabelText=\"请输入Access Token\" ref='input'/>\n                </div>\n                <div style={{display:'inline-block',margin:'0 auto'}}>\n                  <Toggle label=\"记住登陆信息\" defaultToggled={true} onToggle={this.onToggle} style={{maxWidth: 200}}/>\n                </div>\n                <div>\n                    <RaisedButton  label=\"登陆\" primary={true} onClick={() => {\n                    const input = this.refs.input.input.value\n                    if(!input.trim()){\n                      return null;\n                    }\n                    dispatch(fetchAccess(input))\n                  }}/>\n                </div>\n              </div>\n            </MuiThemeProvider>\n          }\n          {!succeed && failedMessage && \n            <h2 style={{color:'red'}}>{failedMessage}</h2>\n          }\n          {succeed && !profile.loginname &&\n            <MuiThemeProvider>\n              <CircularProgress size={60} thickness={7} />\n            </MuiThemeProvider>\n          }\n          {succeed && profile.loginname  &&\n            <div>\n              <Profile {...({collectedTopics,profile,dispatch,fetchArticle,article})}/>\n            </div>\n          }\n        </div>\n      </div>\n  )\n  }\n}\n\n\nfunction mapStateToProps(state) {\n  const {article,profile,login,currentRouter} = state;\n  const {failedMessage,succeed,loginName,loginId,accessToken} = login;\n  const {collectedTopics} = profile\n  return {article,profile,succeed,loginName,loginId,accessToken,failedMessage,collectedTopics}\n}\n\n// 用connect方法连接HomePage组件，实际上是在HomePage组件上加上了Connect(HomePage)这个父组件，HomePage里有关Connect的state变化的props就是通过mapStateToProps设置的\n// connect方法的第二个参数如果不传的话就会默认将store.dispatch默认作为了dispatch参数传进HomePage的props，所以HomePage的props里就有一个dispatch\nexport default connect(mapStateToProps)(Login)\n\n\n// WEBPACK FOOTER //\n// ./containers/Login.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"header\":\"components-common-Profile-styles-header-MY9RG\",\"boxs\":\"components-common-Profile-styles-boxs-1zVgO\",\"box\":\"components-common-Profile-styles-box-1z0N6\",\"title\":\"components-common-Profile-styles-title-3YN3p\",\"link\":\"components-common-Profile-styles-link-3MV6P\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/common/Profile/styles.scss\n// module id = 774\n// module chunks = 0","import React, { Component, PropTypes } from 'react'\nimport { connect } from 'react-redux'\nimport {fetchArticle} from '../actions'\nimport Header from '../components/common/Header/Header'\nimport ProfileComponent from '../components/common/Profile/Profile'\nimport getSize from '../utils/getSize'\n\n\nclass Profile extends Component {\n  render(){\n    const {profile} = this.props\n    return (\n      <div>\n        <div>\n          <Header title='详情' showBack={true}/>\n          {profile.loginname &&\n            <div style={{paddingTop:100}}>\n              <ProfileComponent  {...({...this.props,fetchArticle})}/>\n            </div>\n            \n          }\n        </div>\n      </div>\n  )\n  }\n}\n\n// HomePage.propTypes = {\n//   selectedTab: PropTypes.string.isRequired,\n//   topics: PropTypes.array.isRequired,\n//   isFetching: PropTypes.bool.isRequired,\n//   page:PropTypes.number.isRequired,\n//   scrollT:PropTypes.number.isRequired,\n//   dispatch: PropTypes.func.isRequired\n// }\n\nfunction mapStateToProps(state) {\n  const {profile,article} = state;\n  const {collectedTopics} = profile;\n  return {profile,article,collectedTopics}\n}\n\n\nexport default connect(mapStateToProps)(Profile)\n\n\n// WEBPACK FOOTER //\n// ./containers/Profile.js","import React, { Component, PropTypes } from 'react'\nimport { connect } from 'react-redux'\nimport {Link} from 'react-router-dom'\nimport prefix from '../utils/routePrefix'\nimport {fetchArticle,fetchPublishTopic} from '../actions'\nimport Header from '../components/common/Header/Header'\nimport Dialog from '../components/common/Dialog'\nimport LinkToLogin from '../components/common/LinkToLogin/LinkToLogin'\nimport Form from '../components/PublishTopic/Form/Form'\n\n\nclass PublishTopic extends Component {\n  constructor(){\n    super();\n    this.state = {\n      isOpen:false,\n      isFetching: false,\n      titleErr:false,\n      contentErr:false\n    }\n  }\n\n  componentWillReceiveProps(newProps){\n    const {publishTopic,dispatch} = newProps;\n    if(!this.props.publishTopic.topicId || this.props.publishTopic.topicId !== publishTopic.topicId){\n      this.setState({isFetching:false})\n      dispatch(fetchArticle(publishTopic.topicId))\n    }\n  }\n\n  showDialog() {\n    this.setState({\n      isOpen:true,\n      isFetching:true\n    })\n  }\n  close = () => {\n    this.setState({\n      isOpen:false\n    })\n  }\n\n  ifTitleErr(boolean) {\n    this.setState({\n      titleErr: boolean\n    })\n  }\n  ifContentErr(boolean) {\n    this.setState({\n      contentErr: boolean\n    })\n  }\n  render(){\n    const {dispatch,publishTopic,currentRouter,login} = this.props;\n    const ifTitleErr = this.ifTitleErr.bind(this)\n    const ifContentErr = this.ifContentErr.bind(this)\n    const showDialog = this.showDialog.bind(this)\n    const state = this.state\n    return (\n      <div>\n        <Header title='发布新话题'/>\n        <div style={{paddingTop:100}}>\n          {login.succeed && <Form {...({ifTitleErr,ifContentErr,showDialog,fetchPublishTopic,dispatch,login,state})}/>}\n          {!login.succeed && <LinkToLogin dispatch={dispatch}/>}\n        </div>\n        <Dialog isOpen={this.state.isOpen} link={`${prefix}/topic/${publishTopic.topicId}`} close={this.close}>\n          {state.isFetching && <div>加载中</div>}\n          {!state.isFetching && <div>发送成功，去查看</div>}\n        </Dialog>\n      </div>\n    )\n  }\n}\n\n// HomePage.propTypes = {\n//   selectedTab: PropTypes.string.isRequired,\n//   topics: PropTypes.array.isRequired,\n//   isFetching: PropTypes.bool.isRequired,\n//   page:PropTypes.number.isRequired,\n//   scrollT:PropTypes.number.isRequired,\n//   dispatch: PropTypes.func.isRequired\n// }\n\nfunction mapStateToProps(state) {\n  const {publishTopic,login} = state;\n  // const {selectedTab,tabData} = state.homePage;\n  // // 当组件第一次render时,还未进行任何action,初始化的state里没有tabData[selectedTab]，所以这里需要初始化\n  // const {isFetching,page,scrollT,topics} = tabData[selectedTab] || {isFetching:false,page:0,scrollT:0,topics:[]}\n  return {publishTopic,login}\n}\n\n// 用connect方法连接HomePage组件，实际上是在HomePage组件上加上了Connect(HomePage)这个父组件，HomePage里有关Connect的state变化的props就是通过mapStateToProps设置的\n// connect方法的第二个参数如果不传的话就会默认将store.dispatch默认作为了dispatch参数传进HomePage的props，所以HomePage的props里就有一个dispatch\nexport default connect(mapStateToProps)(PublishTopic)\n\n\n// WEBPACK FOOTER //\n// ./containers/PublishTopic.js","import React, { PropTypes,Component } from 'react'\nimport getStrLength from '../../../utils/getStrLength'\nimport styles from './styles.scss'\nimport classnames from 'classnames'\nimport TextField from 'material-ui/TextField';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider'\nimport RaisedButton from 'material-ui/RaisedButton'\nimport DropDownMenu from 'material-ui/DropDownMenu';\nimport MenuItem from 'material-ui/MenuItem';\n\nclass Form extends Component {\n\tconstructor(props) {\n\t  super(props);\n\t  this.state = {value: \"ask\"};\n\t}\n\thandleChange = (event, index, value) => this.setState({value});\n\trender(){\n\t\tconst {ifTitleErr,ifContentErr,showDialog,fetchPublishTopic,dispatch,login,state} = this.props\n\t\treturn (\n\t\t\t<MuiThemeProvider>\n\t\t\t\t<form className={styles.form}>\n\t\t\t\t  <div className={styles.content}>\n\t\t\t\t    <span className={styles.title}>请选择主题类别:</span>\n\t\t\t\t    <DropDownMenu value={this.state.value} onChange={this.handleChange} ref='select'>\n\t\t\t\t\t\t<MenuItem value=\"ask\" primaryText=\"问答\" />\n\t\t\t\t\t\t<MenuItem value=\"share\" primaryText=\"分享\" />\n\t\t\t\t\t\t<MenuItem value=\"job\" primaryText=\"招聘\" />\n\t\t\t\t    </DropDownMenu>\n\t\t\t\t  </div>\n\t\t\t\t  <div className={styles.content}>\n\t\t\t\t  \t<TextField ref='input' hintText=' 请输入标题，不少于十个字符'  floatingLabelText=' 请输入标题，不少于十个字符' onChange={e => {\n\t\t\t\t        let titleErr = getStrLength(e.target.value)<10 ? true:false\n\t\t\t\t        ifTitleErr(titleErr)\n\t\t\t\t    }}/>\n\t\t\t\t    <div style={{height:state.titleErr ? 20 : 0 }} className={styles.errorInfo}>标题不得少于十个字符！</div>\n\t\t\t\t  </div>\n\t\t\t\t  <div className={styles.content}>\n\t\t\t\t  \t  <TextField ref='textarea' hintText=' 请输入内容'  floatingLabelText='请输入内容' style={{textAlign:'left'}}\n\t\t\t\t  \t  multiLine={true} rows={2} onChange={e => {\n\t\t\t\t  \t      let contentErr = getStrLength(e.target.value)===0 ? true:false\n\t\t\t\t  \t      ifContentErr(contentErr)\n\t\t\t\t  \t  }}/>\n\t\t\t\t    <div style={{height:state.contentErr ? 20 : 0 }} className={styles.errorInfo}>内容不能为空！</div>\n\t\t\t\t  </div>\n\t\t\t\t  <RaisedButton label=\"提交\" primary={true} onClick={e => {\n\t\t\t\t  e.preventDefault()\n\t\t\t\t  const input = this.refs.input.input.value\n\t\t\t\t  const textarea = this.refs.textarea.input.refs.input.value\n\t\t\t\t  const select = this.refs.select.props.value\n\t\t\t\t  if(getStrLength(input) < 10 || !textarea.trim()){\n\t\t\t\t    return null\n\t\t\t\t  }\n\t\t\t\t  dispatch(fetchPublishTopic(login.accessToken,select,input,textarea))\n\t\t\t\t  showDialog()\n\t\t\t\t}} />\n\t\t\t\t</form>\n\t\t\t</MuiThemeProvider>\n\t\t)\n\t}\n}\n\nexport default Form\n\n\n// WEBPACK FOOTER //\n// ./components/PublishTopic/Form/Form.js","// GBK字符集实际长度计算\nconst getStrLength = str => {\n    let realLength = 0;\n    let len = str.length;\n    let charCode = -1;\n    for(let i = 0; i < len; i++){\n        charCode = str.charCodeAt(i);\n        if (charCode >= 0 && charCode <= 128) { \n            realLength += 1;\n        }else{ \n             // 如果是中文则长度加2\n            realLength += 2;\n        }\n    } \n    return realLength;\n}\n\nexport default getStrLength\n\n\n// WEBPACK FOOTER //\n// ./utils/getStrLength.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"form\":\"components-PublishTopic-Form-styles-form-1ob0X\",\"errorInfo\":\"components-PublishTopic-Form-styles-errorInfo-2aEd_\",\"content\":\"components-PublishTopic-Form-styles-content-1XyF4\",\"title\":\"components-PublishTopic-Form-styles-title-1taud\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/PublishTopic/Form/styles.scss\n// module id = 782\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./styles/index.css\n// module id = 796\n// module chunks = 0","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport { setTransition } from '../../../actions/hashUrl'\nimport styles from './styles.scss'\nimport AppBar from 'material-ui/AppBar'\nimport IconButton from 'material-ui/IconButton'\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider'\nimport getSize from '../../../utils/getSize'\n\n// @withRouter\n@connect(store => ({ hashUrl: store.hashUrl }))\nclass Header extends Component {\n\tconstructor() {\n\t\tsuper()\n\t}\n\n\trender() {\n\t\tconst { isFetching, title, history, hashUrl } = this.props\n\t\tconsole.log(this.props.history)\n\t\treturn (\n\t\t\t<div className={styles.header} style={{ width: window.width || '100%' }}>\n\t\t\t\t<MuiThemeProvider>\n\t\t\t\t\t<AppBar\n\t\t\t\t\t\ttitle={<p className={styles.title}>\n\t\t\t\t\t\t\t{isFetching ? '加载中' : title}\n\t\t\t\t\t\t</p>}\n\t\t\t\t\t\ticonElementLeft={<IconButton>\n\t\t\t\t\t\t\t<i className=\"iconfont\" dangerouslySetInnerHTML={{ __html: '&#xe611;' }}></i>\n\t\t\t\t\t\t</IconButton>}\n\t\t\t\t\t\tonLeftIconButtonClick={() => {\n\t\t\t\t\t\t\tthis.props.dispatch(setTransition({ transition: 'left' }))\n\t\t\t\t\t\t\thistory.goBack()\n\t\t\t\t\t\t\t// window.location.href = `${window.location.href.split('#')[0]}#${hashUrl.oldUrl}`\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</MuiThemeProvider>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n\nexport default withRouter(Header)\n\n\n// WEBPACK FOOTER //\n// ./components/common/Header/Header.js"],"sourceRoot":""}