webpackJsonp([4],{788:function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),function(module){function _classCallCheck(_,e){if(!(_ instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(_,e){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?_:e}function _inherits(_,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);_.prototype=Object.create(e&&e.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(_,e):_.__proto__=e)}function _wrapComponent(_){return function(e){return _reactTransformCatchErrors2(e,_)}}function mapStateToProps(_){var e=_.currentRouter,t=_.login,r=_.profile,o=_.article,c=o.currentTopicId,n=o.switchSupportInfo,a=o.isCommented,i=r.collectedTopics;return{isFetching:!!_.article[c]&&_.article[c].isFetching,scrollT:_.article[c]?_.article[c].scrollT:"0",article:_.article[c]&&_.article[c].article?_.article[c].article:{},currentTopicId:c,login:t,switchSupportInfo:n,currentRouter:e,collectedTopics:i,profile:r,isCommented:a}}var __WEBPACK_IMPORTED_MODULE_0_redBoxBlackStyle__=__webpack_require__(42),__WEBPACK_IMPORTED_MODULE_0_redBoxBlackStyle___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_redBoxBlackStyle__),__WEBPACK_IMPORTED_MODULE_1_redbox_react__=__webpack_require__(43),__WEBPACK_IMPORTED_MODULE_1_redbox_react___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_redbox_react__),__WEBPACK_IMPORTED_MODULE_2_react__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_2_react___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_react__),__WEBPACK_IMPORTED_MODULE_3_react_transform_catch_errors__=__webpack_require__(44),__WEBPACK_IMPORTED_MODULE_3_react_transform_catch_errors___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_react_transform_catch_errors__),__WEBPACK_IMPORTED_MODULE_4_react_redux__=__webpack_require__(45),__WEBPACK_IMPORTED_MODULE_5__actions__=__webpack_require__(31),__WEBPACK_IMPORTED_MODULE_6__components_common_Header_Header__=__webpack_require__(296),__WEBPACK_IMPORTED_MODULE_7__components_common_CircleLoading__=__webpack_require__(299),__WEBPACK_IMPORTED_MODULE_8__components_Article_Content_Content__=__webpack_require__(302),__WEBPACK_IMPORTED_MODULE_9__components_Article_Reply_Reply__=__webpack_require__(303),__WEBPACK_IMPORTED_MODULE_10__utils_getSize__=__webpack_require__(56),_extends=Object.assign||function(_){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(_[r]=t[r])}return _},_createClass=function(){function _(_,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(_,r.key,r)}}return function(e,t,r){return t&&_(e.prototype,t),r&&_(e,r),e}}();!function(){var _=__webpack_require__(2).enterModule;_&&_(module)}();var _components={Article:{displayName:"Article"}},_reactTransformCatchErrors2=__WEBPACK_IMPORTED_MODULE_3_react_transform_catch_errors___default()({filename:"F:/cnode/src/containers/Article.js",components:_components,locals:[],imports:[__WEBPACK_IMPORTED_MODULE_2_react___default.a,__WEBPACK_IMPORTED_MODULE_1_redbox_react___default.a,__WEBPACK_IMPORTED_MODULE_0_redBoxBlackStyle___default.a]}),Article=_wrapComponent("Article")(function(_Component){function Article(){_classCallCheck(this,Article);var _=_possibleConstructorReturn(this,(Article.__proto__||Object.getPrototypeOf(Article)).call(this));return _.state={fadeIn:!0},_}return _inherits(Article,_Component),_createClass(Article,[{key:"componentWillMount",value:function(){var _=this.props,e=_.scrollT,t=_.dispatch,r=_.article,o=_.isFetching;if(e&&window.scrollTo(0,e),!r.author&&!o){var c=window.location.href.split("topic/")[1].split("?_")[0];t(Object(__WEBPACK_IMPORTED_MODULE_5__actions__.u)(c))}}},{key:"componentWillReceiveProps",value:function(_){var e=_.scrollT;window.scrollTo(0,e)}},{key:"componentWillUnmount",value:function(){this.setState({fadeIn:!1});var _=Object(__WEBPACK_IMPORTED_MODULE_10__utils_getSize__.a)(),e=_.scrollT,t=this.props,r=t.currentTopicId,o=t.dispatch,c=t.profile,n=t.login;o(Object(__WEBPACK_IMPORTED_MODULE_5__actions__.C)(r,e)),window.sessionStorage.masterProfile||n.loginName!==c.loginname||(window.sessionStorage.masterProfile=JSON.stringify(c))}},{key:"render",value:function(){var _=this.props,e=_.isFetching,t=_.article,r=_.currentTopicId,o=_.login,c=_.switchSupportInfo,n=_.isCommented,a=_.dispatch,i=_.collectedTopics,l=_.profile;return o.loginName!==l.loginname&&window.sessionStorage.masterProfile&&(i=JSON.parse(window.sessionStorage.masterProfile).collectedTopics),__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement("div",null,__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6__components_common_Header_Header__.a,{isFetching:e,title:"详情",showBack:!0}),0===Object.keys(t).length&&__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__components_common_CircleLoading__.a,null),0!==Object.keys(t).length&&__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement("div",null,__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8__components_Article_Content_Content__.a,{article:t,dispatch:a,fetchProfile:__WEBPACK_IMPORTED_MODULE_5__actions__.x,login:o,collectedTopics:i,profile:l}),__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9__components_Article_Reply_Reply__.a,_extends({replies:t.replies},{login:o,dispatch:a,switchSupportInfo:c,currentTopicId:r,profile:l,isCommented:n}))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Article}(__WEBPACK_IMPORTED_MODULE_2_react__.Component));Article.propTypes={};var _default=Object(__WEBPACK_IMPORTED_MODULE_4_react_redux__.b)(mapStateToProps)(Article);__webpack_exports__.default=_default,function(){var _=__webpack_require__(2).default,e=__webpack_require__(2).leaveModule;_&&(_.register(Article,"Article","F:/cnode/src/containers/Article.js"),_.register(mapStateToProps,"mapStateToProps","F:/cnode/src/containers/Article.js"),_.register(_default,"default","F:/cnode/src/containers/Article.js"),e(module))}()}.call(__webpack_exports__,__webpack_require__(13)(module))}});
//# sourceMappingURL=Article.js.map